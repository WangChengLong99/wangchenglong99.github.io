<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>第3章 数据清洗 | wcl</title>
<meta name="author" content="第3章 数据清洗 | wcl">
<meta name="description" content="3.1 查看数据信息 导入数据后应该了解字段信息，字段的数据类型，哪些字段有缺失值 import pandas as pd import numpy as np import matplotlib.pyplot as plt plt.rcParams['font.sans-serif']=['Simhei']; #SimHei黑体...">
<meta name="generator" content="bookdown 0.27 with bs4_book()">
<meta property="og:title" content="第3章 数据清洗 | wcl">
<meta property="og:type" content="book">
<meta property="og:url" content="https://github.com/wangchenglong99/wangchenglong99.github.io/数据清洗.html">
<meta property="og:description" content="3.1 查看数据信息 导入数据后应该了解字段信息，字段的数据类型，哪些字段有缺失值 import pandas as pd import numpy as np import matplotlib.pyplot as plt plt.rcParams['font.sans-serif']=['Simhei']; #SimHei黑体...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="第3章 数据清洗 | wcl">
<meta name="twitter:description" content="3.1 查看数据信息 导入数据后应该了解字段信息，字段的数据类型，哪些字段有缺失值 import pandas as pd import numpy as np import matplotlib.pyplot as plt plt.rcParams['font.sans-serif']=['Simhei']; #SimHei黑体...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script><script src="libs/d3-3.3.8/d3.min.js"></script><script src="libs/dagre-0.4.0/dagre-d3.min.js"></script><link href="libs/mermaid-0.3.0/dist/mermaid.css" rel="stylesheet">
<script src="libs/mermaid-0.3.0/dist/mermaid.slim.min.js"></script><link href="libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet">
<script src="libs/chromatography-0.1/chromatography.js"></script><script src="libs/DiagrammeR-binding-1.0.9/DiagrammeR.js"></script><style>
    /* pre {
      max-height: 300px;
      overflow-y: auto;
    }

    pre[class] {
      max-height: 100px;
    } */

    .scroll-200 {
      max-height: 200px;
      overflow-y: auto;
      background-color: inherit;
    }
    </style>
<link rel="shortcut icon" type="image/x-icon" href="icon/favicon.ico">
<script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">wcl</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">关于</a></li>
<li class="book-part">数据</li>
<li><a class="" href="introduction-1.html">introduction</a></li>
<li><a class="" href="%E6%95%B0%E6%8D%AE%E7%BC%96%E7%A0%81%E4%B8%8E%E6%A0%BC%E5%BC%8F.html"><span class="header-section-number">1</span> 数据编码与格式</a></li>
<li><a class="" href="%E6%95%B0%E6%8D%AE%E8%8E%B7%E5%8F%96%E4%B8%8E%E5%AD%98%E5%82%A8.html"><span class="header-section-number">2</span> 数据获取与存储</a></li>
<li><a class="active" href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html"><span class="header-section-number">3</span> 数据清洗</a></li>
<li><a class="" href="%E6%95%B0%E6%8D%AE%E6%93%8D%E4%BD%9C.html"><span class="header-section-number">4</span> 数据操作</a></li>
<li><a class="" href="%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97.html"><span class="header-section-number">5</span> 时间序列</a></li>
<li class="book-part">可视化</li>
<li><a class="" href="introduction-2.html">introduction</a></li>
<li><a class="" href="matplotlib-1.html"><span class="header-section-number">6</span> matplotlib</a></li>
<li><a class="" href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html"><span class="header-section-number">7</span> 图表实例</a></li>
<li class="book-part">数据库</li>
<li><a class="" href="introduction-3.html">introduction</a></li>
<li><a class="" href="mysql%E9%80%9F%E6%9F%A5%E8%A1%A8.html"><span class="header-section-number">8</span> mysql速查表</a></li>
<li><a class="" href="pymysql.html"><span class="header-section-number">9</span> PyMysql</a></li>
<li class="book-part">机器学习</li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/wangchenglong99/wangchenglong99.github.io">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="数据清洗" class="section level1" number="3">
<h1>
<span class="header-section-number">第3章</span> 数据清洗<a class="anchor" aria-label="anchor" href="#%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97"><i class="fas fa-link"></i></a>
</h1>
<div id="查看数据信息" class="section level2" number="3.1">
<h2>
<span class="header-section-number">3.1</span> 查看数据信息<a class="anchor" aria-label="anchor" href="#%E6%9F%A5%E7%9C%8B%E6%95%B0%E6%8D%AE%E4%BF%A1%E6%81%AF"><i class="fas fa-link"></i></a>
</h2>
<p>导入数据后应该了解字段信息，字段的数据类型，哪些字段有缺失值</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb17-1"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb17-2"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb17-3"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb17-4"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb17-4" aria-hidden="true" tabindex="-1"></a>plt.rcParams[<span class="st">'font.sans-serif'</span>]<span class="op">=</span>[<span class="st">'Simhei'</span>]<span class="op">;</span> <span class="co">#SimHei黑体 </span></span>
<span id="cb17-5"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb17-5" aria-hidden="true" tabindex="-1"></a>plt.rcParams[<span class="st">'axes.unicode_minus'</span>]<span class="op">=</span><span class="va">False</span><span class="op">;</span> <span class="co">#正常显示图中负号</span></span>
<span id="cb17-6"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb17-6" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> pd.read_csv(<span class="st">"data/数据/学生.csv"</span>)</span>
<span id="cb17-7"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb17-7" aria-hidden="true" tabindex="-1"></a>data.head(<span class="dv">5</span>).pipe(<span class="kw">lambda</span> df:<span class="bu">print</span>(df.to_markdown(tablefmt<span class="op">=</span><span class="st">"github"</span>)))</span></code></pre></div>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th></th>
<th>姓名</th>
<th>性别</th>
<th>班级</th>
<th>数学</th>
<th>语文</th>
<th>英语</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>0</td>
<td>a1</td>
<td>男</td>
<td>高一(1)班</td>
<td>61</td>
<td>59</td>
<td>70</td>
</tr>
<tr class="even">
<td>1</td>
<td>a2</td>
<td>女</td>
<td>高一(2)班</td>
<td>62</td>
<td>77</td>
<td>74</td>
</tr>
<tr class="odd">
<td>2</td>
<td>a3</td>
<td>女</td>
<td>高一(3)班</td>
<td>58</td>
<td>71</td>
<td>83</td>
</tr>
<tr class="even">
<td>3</td>
<td>a4</td>
<td>男</td>
<td>高一(4)班</td>
<td>65</td>
<td>57</td>
<td>71</td>
</tr>
<tr class="odd">
<td>4</td>
<td>a5</td>
<td>男</td>
<td>高一(5)班</td>
<td>56</td>
<td>83</td>
<td>72</td>
</tr>
</tbody>
</table></div>
<div id="info" class="section level3" number="3.1.1">
<h3>
<span class="header-section-number">3.1.1</span> .info()<a class="anchor" aria-label="anchor" href="#info"><i class="fas fa-link"></i></a>
</h3>
<p>查看字段名，缺失值和字段类型</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb18-1"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb18-1" aria-hidden="true" tabindex="-1"></a>data.info()</span></code></pre></div>
<pre class="scroll-200"><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 1800 entries, 0 to 1799
Data columns (total 6 columns):
 #   Column  Non-Null Count  Dtype 
---  ------  --------------  ----- 
 0   姓名      1800 non-null   object
 1   性别      1800 non-null   object
 2   班级      1800 non-null   object
 3   数学      1800 non-null   int64 
 4   语文      1800 non-null   int64 
 5   英语      1800 non-null   int64 
dtypes: int64(3), object(3)
memory usage: 84.5+ KB</code></pre>
</div>
<div id="dtypes" class="section level3" number="3.1.2">
<h3>
<span class="header-section-number">3.1.2</span> .dtypes<a class="anchor" aria-label="anchor" href="#dtypes"><i class="fas fa-link"></i></a>
</h3>
<p>查看字段类型</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb20-1"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb20-1" aria-hidden="true" tabindex="-1"></a>data.dtypes</span></code></pre></div>
<pre class="scroll-200"><code>姓名    object
性别    object
班级    object
数学     int64
语文     int64
英语     int64
dtype: object</code></pre>
</div>
<div id="describe" class="section level3" number="3.1.3">
<h3>
<span class="header-section-number">3.1.3</span> .describe()<a class="anchor" aria-label="anchor" href="#describe"><i class="fas fa-link"></i></a>
</h3>
<p>`<code>.describe(include/exclude=[])</code></p>
<p>默认只对数值类型进行各种字段的描述,可以设置include和exclude参数对类型进行选择</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb22-1"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb22-1" aria-hidden="true" tabindex="-1"></a>data.describe().pipe(<span class="kw">lambda</span> df:<span class="bu">print</span>(df.to_markdown(tablefmt<span class="op">=</span><span class="st">"github"</span>)))</span></code></pre></div>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th></th>
<th>数学</th>
<th>语文</th>
<th>英语</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>count</td>
<td>1800</td>
<td>1800</td>
<td>1800</td>
</tr>
<tr class="even">
<td>mean</td>
<td>64.3439</td>
<td>69.145</td>
<td>74.5239</td>
</tr>
<tr class="odd">
<td>std</td>
<td>5.92552</td>
<td>6.96314</td>
<td>4.88335</td>
</tr>
<tr class="even">
<td>min</td>
<td>44</td>
<td>47</td>
<td>60</td>
</tr>
<tr class="odd">
<td>25%</td>
<td>60</td>
<td>65</td>
<td>71</td>
</tr>
<tr class="even">
<td>50%</td>
<td>64</td>
<td>69</td>
<td>75</td>
</tr>
<tr class="odd">
<td>75%</td>
<td>68</td>
<td>74</td>
<td>78</td>
</tr>
<tr class="even">
<td>max</td>
<td>87</td>
<td>94</td>
<td>90</td>
</tr>
</tbody>
</table></div>
<div class="sourceCode" id="cb23"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb23-1"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb23-1" aria-hidden="true" tabindex="-1"></a>data.describe(include<span class="op">=</span>[<span class="st">"object"</span>]).pipe(<span class="kw">lambda</span> df:<span class="bu">print</span>(df.to_markdown(tablefmt<span class="op">=</span><span class="st">"github"</span>)))</span></code></pre></div>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th></th>
<th>姓名</th>
<th>性别</th>
<th>班级</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>count</td>
<td>1800</td>
<td>1800</td>
<td>1800</td>
</tr>
<tr class="even">
<td>unique</td>
<td>1800</td>
<td>2</td>
<td>60</td>
</tr>
<tr class="odd">
<td>top</td>
<td>a1</td>
<td>男</td>
<td>高一(1)班</td>
</tr>
<tr class="even">
<td>freq</td>
<td>1</td>
<td>918</td>
<td>30</td>
</tr>
</tbody>
</table></div>
</div>
</div>
<div id="缺失值" class="section level2" number="3.2">
<h2>
<span class="header-section-number">3.2</span> 缺失值<a class="anchor" aria-label="anchor" href="#%E7%BC%BA%E5%A4%B1%E5%80%BC"><i class="fas fa-link"></i></a>
</h2>
<div class="inline-figure"><img src="static/image/%E6%95%B0%E6%8D%AE/%E7%BC%BA%E5%A4%B1%E5%80%BC%E5%A4%84%E7%90%86.png" width="95%" style="display: block; margin: auto;"></div>
<div id="查看缺失值" class="section level3" number="3.2.1">
<h3>
<span class="header-section-number">3.2.1</span> 查看缺失值<a class="anchor" aria-label="anchor" href="#%E6%9F%A5%E7%9C%8B%E7%BC%BA%E5%A4%B1%E5%80%BC"><i class="fas fa-link"></i></a>
</h3>
<p><code>.isnull(axis)</code>,<code>.notnull(axis)</code></p>
<p>数据缺失,python的None对象，numpy中的np.nan都被视为缺失,空字符串不被视为缺失。</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb24-1"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb24-1" aria-hidden="true" tabindex="-1"></a>nadata <span class="op">=</span> pd.DataFrame({<span class="st">'null'</span>:[<span class="va">None</span>,np.nan,<span class="st">''</span>,<span class="st">'nan'</span>,<span class="dv">0</span>]<span class="op">*</span><span class="dv">2</span>,</span>
<span id="cb24-2"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb24-2" aria-hidden="true" tabindex="-1"></a>                      <span class="st">'value'</span>:np.random.choice([<span class="va">None</span>,np.nan]<span class="op">+</span><span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">10</span>)),<span class="dv">10</span>,)})</span>
<span id="cb24-3"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb24-3" aria-hidden="true" tabindex="-1"></a>nadata.head()</span></code></pre></div>
<pre class="scroll-200"><code>   null value
0  None     1
1   NaN     8
2           0
3   nan     8
4     0     8</code></pre>
<div class="sourceCode" id="cb26"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb26-1"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb26-1" aria-hidden="true" tabindex="-1"></a>nadata.isnull().head()</span></code></pre></div>
<pre class="scroll-200"><code>    null  value
0   True  False
1   True  False
2  False  False
3  False  False
4  False  False</code></pre>
<div class="sourceCode" id="cb28"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb28-1"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb28-1" aria-hidden="true" tabindex="-1"></a>nadata[nadata[<span class="st">'null'</span>].notnull()]<span class="co"># 根据某个字段的未缺失值选取行</span></span></code></pre></div>
<pre class="scroll-200"><code>  null value
2          0
3  nan     8
4    0     8
7          7
8  nan     2
9    0     7</code></pre>
<div class="sourceCode" id="cb30"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb30-1"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb30-1" aria-hidden="true" tabindex="-1"></a>nadata.isnull().<span class="bu">sum</span>()<span class="op">/</span><span class="bu">len</span>(nadata)<span class="co">#查看各个字段的缺失比例</span></span></code></pre></div>
<pre class="scroll-200"><code>null     0.4
value    0.1
dtype: float64</code></pre>
<div class="sourceCode" id="cb32"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb32-1"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb32-1" aria-hidden="true" tabindex="-1"></a>lack_rate <span class="op">=</span> <span class="fl">0.3</span></span>
<span id="cb32-2"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="co">#选取出所有缺失比例大于0.3的字段名</span></span>
<span id="cb32-3"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb32-3" aria-hidden="true" tabindex="-1"></a>(nadata.isnull().<span class="bu">sum</span>()<span class="op">/</span><span class="bu">len</span>(nadata)).pipe(<span class="kw">lambda</span> df:df[df<span class="op">&gt;</span>lack_rate].index.values)</span></code></pre></div>
<pre class="scroll-200"><code>array(['null'], dtype=object)</code></pre>
<p>通常对于缺失值的处理，最常用的方法无外乎删除法、替换法和插补法。删除法是指将缺失值所在的观测行删除（前提是缺失行的比例非常低，如5%以内），或者删除缺失值所对应的变量（前提是该变量中包含的缺失值比例非常高，如70%左右）；替换法是指直接利用缺失变量的均值、中位数或众数替换该变量中的缺失值，其好处是缺失值的处理速度快，弊端是易产生有偏估计，导致缺失值替换的准确性下降；插补法则是利用有监督的机器学习方法（如回归模型、树模型、网络模型等）对缺失值作预测，其优势在于预测的准确性高，缺点是需要大量的计算，导致缺失值的处理速度大打折扣。</p>
</div>
<div id="删除缺失值" class="section level3" number="3.2.2">
<h3>
<span class="header-section-number">3.2.2</span> 删除缺失值<a class="anchor" aria-label="anchor" href="#%E5%88%A0%E9%99%A4%E7%BC%BA%E5%A4%B1%E5%80%BC"><i class="fas fa-link"></i></a>
</h3>
<p><code>.dropna(axis,how,subset,thresh)</code></p>
<div class="sourceCode" id="cb34"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb34-1"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb34-1" aria-hidden="true" tabindex="-1"></a>nadata.dropna(how<span class="op">=</span><span class="st">"all"</span>)</span></code></pre></div>
<pre class="scroll-200"><code>   null value
0  None     1
1   NaN     8
2           0
3   nan     8
4     0     8
5  None     0
7           7
8   nan     2
9     0     7</code></pre>
<div class="sourceCode" id="cb36"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb36-1"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb36-1" aria-hidden="true" tabindex="-1"></a>nadata.dropna(subset<span class="op">=</span>[<span class="st">"null"</span>])</span></code></pre></div>
<pre class="scroll-200"><code>  null value
2          0
3  nan     8
4    0     8
7          7
8  nan     2
9    0     7</code></pre>
<div class="sourceCode" id="cb38"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb38-1"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb38-1" aria-hidden="true" tabindex="-1"></a>nadata.dropna(thresh<span class="op">=</span><span class="dv">1</span>)</span></code></pre></div>
<pre class="scroll-200"><code>   null value
0  None     1
1   NaN     8
2           0
3   nan     8
4     0     8
5  None     0
7           7
8   nan     2
9     0     7</code></pre>
</div>
<div id="填补缺失值" class="section level3" number="3.2.3">
<h3>
<span class="header-section-number">3.2.3</span> 填补缺失值<a class="anchor" aria-label="anchor" href="#%E5%A1%AB%E8%A1%A5%E7%BC%BA%E5%A4%B1%E5%80%BC"><i class="fas fa-link"></i></a>
</h3>
<p><code>.fillna(value,method,**kwargs)</code></p>
<p>通过给字段传递标量，可以进行均值，最大值，最小值，中值等填补，通过method参数可以进行前向和后向填补。</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb40-1"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb40-1" aria-hidden="true" tabindex="-1"></a>nadata.fillna(<span class="dv">0</span>)</span></code></pre></div>
<pre class="scroll-200"><code>  null  value
0    0      1
1    0      8
2           0
3  nan      8
4    0      8
5    0      0
6    0      0
7           7
8  nan      2
9    0      7</code></pre>
<div class="sourceCode" id="cb42"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb42-1"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb42-1" aria-hidden="true" tabindex="-1"></a>nadata.fillna({<span class="st">"null"</span>:<span class="dv">0</span>,<span class="st">"value"</span>:<span class="bu">int</span>(np.mean(nadata.value))})<span class="co">#不加int会变成浮点型</span></span></code></pre></div>
<pre class="scroll-200"><code>  null  value
0    0      1
1    0      8
2           0
3  nan      8
4    0      8
5    0      0
6    0      4
7           7
8  nan      2
9    0      7</code></pre>
<div class="sourceCode" id="cb44"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb44-1"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb44-1" aria-hidden="true" tabindex="-1"></a>nadata.fillna(method<span class="op">=</span><span class="st">"bfill"</span>)</span></code></pre></div>
<pre class="scroll-200"><code>  null  value
0           1
1           8
2           0
3  nan      8
4    0      8
5           0
6           7
7           7
8  nan      2
9    0      7</code></pre>
</div>
<div id="插补法" class="section level3" number="3.2.4">
<h3>
<span class="header-section-number">3.2.4</span> 插补法<a class="anchor" aria-label="anchor" href="#%E6%8F%92%E8%A1%A5%E6%B3%95"><i class="fas fa-link"></i></a>
</h3>
<p>利用机器学习的方法构建模型，通过模型根据其他字段的值来对缺失值进行预测。</p>
</div>
</div>
<div id="类型转换" class="section level2" number="3.3">
<h2>
<span class="header-section-number">3.3</span> 类型转换<a class="anchor" aria-label="anchor" href="#%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><i class="fas fa-link"></i></a>
</h2>
<p>读入的数据类型包含object(任何对象都可以用object来存储)，number(数值类型),string(字符串类型),bool(逻辑类型).</p>
<p>可以用<code>.select_dtypes(include/exclude=[])</code>选取对应类型的列</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb46-1"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb46-1" aria-hidden="true" tabindex="-1"></a>data.select_dtypes(include<span class="op">=</span>[<span class="st">"object"</span>])</span></code></pre></div>
<pre class="scroll-200"><code>         姓名 性别       班级
0        a1  男   高一(1)班
1        a2  女   高一(2)班
2        a3  女   高一(3)班
3        a4  男   高一(4)班
4        a5  男   高一(5)班
...     ... ..      ...
1795  a1796  男  高三(16)班
1796  a1797  男  高三(17)班
1797  a1798  女  高三(18)班
1798  a1799  女  高三(19)班
1799  a1800  女  高三(20)班

[1800 rows x 3 columns]</code></pre>
<div class="sourceCode" id="cb48"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb48-1"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb48-1" aria-hidden="true" tabindex="-1"></a>data.select_dtypes(exclude<span class="op">=</span>[<span class="st">"object"</span>])</span></code></pre></div>
<pre class="scroll-200"><code>      数学  语文  英语
0     61  59  70
1     62  77  74
2     58  71  83
3     65  57  71
4     56  83  72
...   ..  ..  ..
1795  65  73  71
1796  68  66  75
1797  50  65  72
1798  64  73  70
1799  60  81  65

[1800 rows x 3 columns]</code></pre>
<p>字符串和日期在刚读入时都是object类型，需要转换为字符串类型，日期类型才能进行.str和.dt操作,各类型转换转化方法见下表.</p>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th>方法</th>
<th>作用</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>df.astype()</td>
<td>string,object,int32,int64,datetime64,boolean等</td>
</tr>
<tr class="even">
<td>pd.to_numeric()</td>
<td>转化成数值类型</td>
</tr>
<tr class="odd">
<td>pd.to_datetime()</td>
<td>转化成时间格式,datetime64</td>
</tr>
<tr class="even">
<td>int,float,bool,str</td>
<td>只对标量操作</td>
</tr>
</tbody>
</table></div>
<p>字符串类型的浮点数必须先转为浮点数才能转为int</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb50-1"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb50-1" aria-hidden="true" tabindex="-1"></a>data.dtypes</span></code></pre></div>
<pre class="scroll-200"><code>姓名    object
性别    object
班级    object
数学     int64
语文     int64
英语     int64
dtype: object</code></pre>
<div class="sourceCode" id="cb52"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb52-1"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb52-1" aria-hidden="true" tabindex="-1"></a>ts <span class="op">=</span> pd.read_csv(<span class="st">"data/数据/year-month-day.csv"</span>,index_col<span class="op">=</span>[<span class="dv">0</span>]).reset_index().rename(columns<span class="op">=</span>{<span class="st">"index"</span>:<span class="st">"day"</span>})</span>
<span id="cb52-2"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb52-2" aria-hidden="true" tabindex="-1"></a>ts.dtypes</span></code></pre></div>
<pre class="scroll-200"><code>day       object
value    float64
dtype: object</code></pre>
<div class="sourceCode" id="cb54"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb54-1"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb54-1" aria-hidden="true" tabindex="-1"></a>data.astype({<span class="st">"姓名"</span>:<span class="st">"string"</span>,<span class="st">"性别"</span>:<span class="st">"string"</span>,<span class="st">"班级"</span>:<span class="st">"string"</span>}).dtypes</span></code></pre></div>
<pre class="scroll-200"><code>姓名    string
性别    string
班级    string
数学     int64
语文     int64
英语     int64
dtype: object</code></pre>
<div class="sourceCode" id="cb56"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb56-1"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb56-1" aria-hidden="true" tabindex="-1"></a>ts.astype({<span class="st">"day"</span>:<span class="st">"datetime64"</span>}).dtypes</span></code></pre></div>
<pre class="scroll-200"><code>day      datetime64[ns]
value           float64
dtype: object</code></pre>
<div class="sourceCode" id="cb58"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb58-1"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb58-1" aria-hidden="true" tabindex="-1"></a>ts[<span class="st">"day"</span>] <span class="op">=</span> pd.to_datetime(ts.day)</span>
<span id="cb58-2"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb58-2" aria-hidden="true" tabindex="-1"></a>ts.day.dt.year.head()</span></code></pre></div>
<pre class="scroll-200"><code>0    2023
1    2023
2    2023
3    2023
4    2023
Name: day, dtype: int64</code></pre>
</div>
<div id="重复值" class="section level2" number="3.4">
<h2>
<span class="header-section-number">3.4</span> 重复值<a class="anchor" aria-label="anchor" href="#%E9%87%8D%E5%A4%8D%E5%80%BC"><i class="fas fa-link"></i></a>
</h2>
<p>数据的记录是否存在重复值，重复值有无存在意义</p>
<div id="查看重复值" class="section level3" number="3.4.1">
<h3>
<span class="header-section-number">3.4.1</span> 查看重复值<a class="anchor" aria-label="anchor" href="#%E6%9F%A5%E7%9C%8B%E9%87%8D%E5%A4%8D%E5%80%BC"><i class="fas fa-link"></i></a>
</h3>
<p><code>.duplicated(subset)</code>,可以设置subset参数只对某些子集判断</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb60-1"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb60-1" aria-hidden="true" tabindex="-1"></a>data.duplicated().<span class="bu">any</span>()</span></code></pre></div>
<pre class="scroll-200"><code>False</code></pre>
<div class="sourceCode" id="cb62"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb62-1"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb62-1" aria-hidden="true" tabindex="-1"></a>data[data.duplicated()]</span>
<span id="cb62-2"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb62-2" aria-hidden="true" tabindex="-1"></a><span class="co">#根据index value来删除重复行</span></span></code></pre></div>
<pre class="scroll-200"><code>Empty DataFrame
Columns: [姓名, 性别, 班级, 数学, 语文, 英语]
Index: []</code></pre>
<div class="sourceCode" id="cb64"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb64-1"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb64-1" aria-hidden="true" tabindex="-1"></a>data.index.duplicated().<span class="bu">sum</span>()</span></code></pre></div>
<pre class="scroll-200"><code>0</code></pre>
</div>
<div id="删除重复值" class="section level3" number="3.4.2">
<h3>
<span class="header-section-number">3.4.2</span> 删除重复值<a class="anchor" aria-label="anchor" href="#%E5%88%A0%E9%99%A4%E9%87%8D%E5%A4%8D%E5%80%BC"><i class="fas fa-link"></i></a>
</h3>
<p><code>.drop_duplicates(subset)</code>，同样可以设置subset参数</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb66-1"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb66-1" aria-hidden="true" tabindex="-1"></a>data.drop_duplicates()</span></code></pre></div>
<pre class="scroll-200"><code>         姓名 性别       班级  数学  语文  英语
0        a1  男   高一(1)班  61  59  70
1        a2  女   高一(2)班  62  77  74
2        a3  女   高一(3)班  58  71  83
3        a4  男   高一(4)班  65  57  71
4        a5  男   高一(5)班  56  83  72
...     ... ..      ...  ..  ..  ..
1795  a1796  男  高三(16)班  65  73  71
1796  a1797  男  高三(17)班  68  66  75
1797  a1798  女  高三(18)班  50  65  72
1798  a1799  女  高三(19)班  64  73  70
1799  a1800  女  高三(20)班  60  81  65

[1800 rows x 6 columns]</code></pre>
<div class="sourceCode" id="cb68"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb68-1"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb68-1" aria-hidden="true" tabindex="-1"></a>data[<span class="op">~</span>data.index.duplicated()]</span></code></pre></div>
<pre class="scroll-200"><code>         姓名 性别       班级  数学  语文  英语
0        a1  男   高一(1)班  61  59  70
1        a2  女   高一(2)班  62  77  74
2        a3  女   高一(3)班  58  71  83
3        a4  男   高一(4)班  65  57  71
4        a5  男   高一(5)班  56  83  72
...     ... ..      ...  ..  ..  ..
1795  a1796  男  高三(16)班  65  73  71
1796  a1797  男  高三(17)班  68  66  75
1797  a1798  女  高三(18)班  50  65  72
1798  a1799  女  高三(19)班  64  73  70
1799  a1800  女  高三(20)班  60  81  65

[1800 rows x 6 columns]</code></pre>
</div>
</div>
<div id="异常值" class="section level2" number="3.5">
<h2>
<span class="header-section-number">3.5</span> 异常值<a class="anchor" aria-label="anchor" href="#%E5%BC%82%E5%B8%B8%E5%80%BC"><i class="fas fa-link"></i></a>
</h2>
<p>异常值也称为离群点，就是那些远离绝大多数样本点的特殊群体，通常这样的数据点在数据集中都表现出不合理的特性。如果忽视这些异常值，在某些建模场景下就会导致结论的错误（如线性回归模型、K均值聚类等），所以在数据的探索过程中，有必要识别出这些异常值并处理好它们。</p>
<p>对于异常的判断和处理要根据实际情况进行相应的判断和处理.</p>
<div id="查看异常值" class="section level3 tabset" number="3.5.1">
<h3>
<span class="header-section-number">3.5.1</span> 查看异常值<a class="anchor" aria-label="anchor" href="#%E6%9F%A5%E7%9C%8B%E5%BC%82%E5%B8%B8%E5%80%BC"><i class="fas fa-link"></i></a>
</h3>
<p>通常，异常值的识别可以借助于图形法（如箱线图、正态分布图）和建模法（如线性回归、聚类算法、K近邻算法）</p>
<div id="箱线图" class="section level4" number="3.5.1.1">
<h4>
<span class="header-section-number">3.5.1.1</span> 箱线图<a class="anchor" aria-label="anchor" href="#%E7%AE%B1%E7%BA%BF%E5%9B%BE"><i class="fas fa-link"></i></a>
</h4>
<p>箱线图技术实际上就是利用数据的分位数识别其中的异常点，该图形属于典型的统计图形，在学术界和工业界都得到广泛的应用。箱线图的形状特征如下图所示：</p>
<div class="inline-figure"><img src="static/image/%E6%95%B0%E6%8D%AE/%E7%AE%B1%E7%BA%BF%E5%9B%BE.png" width="95%" style="display: block; margin: auto;"></div>
<p>图中的下四分位数指的是数据的25%分位点所对应的值（Q1）；中位数即为数据的50%分位点所对应的值（Q2）；上四分位数则为数据的75%分位点所对应的值（Q3）；上须的计算公式为Q3+1.5(Q3-Q1)；下须的计算公式为Q1-1.5(Q3-Q1)。其中，Q3-Q1表示四分位差。如果采用箱线图识别异常值，其判断标准是，当变量的数据值大于箱线图的上须或者小于箱线图的下须时，就可以认为这样的数据点为异常点。</p>
<p>所以，基于上方的箱线图，可以定义某个数值型变量中的异常点和极端异常点，它们的判断表达式如下表所示：</p>
<div class="inline-figure"><img src="static/image/%E6%95%B0%E6%8D%AE/%E5%88%A4%E6%96%AD%E5%BC%82%E5%B8%B8.png" width="95%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb70"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb70-1"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb70-1" aria-hidden="true" tabindex="-1"></a>abdata <span class="op">=</span> pd.DataFrame({<span class="st">'value'</span>:<span class="bu">list</span>(np.random.normal(<span class="dv">70</span>,<span class="dv">5</span>,<span class="dv">100</span>))<span class="op">+</span>[<span class="dv">50</span>,<span class="dv">57</span>,<span class="dv">83</span>,<span class="dv">90</span>]})</span>
<span id="cb70-2"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb70-2" aria-hidden="true" tabindex="-1"></a>abdata.boxplot(</span>
<span id="cb70-3"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb70-3" aria-hidden="true" tabindex="-1"></a>  whis <span class="op">=</span> <span class="fl">1.5</span>, <span class="co"># 指定1.5倍的四分位差</span></span>
<span id="cb70-4"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb70-4" aria-hidden="true" tabindex="-1"></a>  widths <span class="op">=</span> <span class="fl">0.7</span>, <span class="co"># 指定箱线图的宽度为0.8</span></span>
<span id="cb70-5"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb70-5" aria-hidden="true" tabindex="-1"></a>  patch_artist <span class="op">=</span> <span class="va">True</span>, <span class="co"># 指定需要填充箱体颜色</span></span>
<span id="cb70-6"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb70-6" aria-hidden="true" tabindex="-1"></a>  showmeans <span class="op">=</span> <span class="va">True</span>, <span class="co"># 指定需要显示均值</span></span>
<span id="cb70-7"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb70-7" aria-hidden="true" tabindex="-1"></a>  <span class="co">#boxprops = {'facecolor':'steelblue'}, # 指定箱体的填充色为铁蓝色</span></span>
<span id="cb70-8"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb70-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># 指定异常点的填充色、边框色和大小</span></span>
<span id="cb70-9"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb70-9" aria-hidden="true" tabindex="-1"></a>  <span class="co">#flierprops = {'markerfacecolor':'red', 'markeredgecolor':'red', 'markersize':4}, # 指定均值点的标记符号（菱形）、填充色和大小</span></span>
<span id="cb70-10"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb70-10" aria-hidden="true" tabindex="-1"></a>  <span class="co">#meanprops = {'marker':'D','markerfacecolor':'black', 'markersize':4}, </span></span>
<span id="cb70-11"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb70-11" aria-hidden="true" tabindex="-1"></a>  <span class="co">#medianprops = {'linestyle':'--','color':'orange'},#指定中位数的标记符号（虚线）和颜色</span></span>
<span id="cb70-12"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb70-12" aria-hidden="true" tabindex="-1"></a>  <span class="co">#labels = [''] # 去除箱线图的x轴刻度值</span></span>
<span id="cb70-13"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb70-13" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb70-14"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb70-14" aria-hidden="true" tabindex="-1"></a><span class="co">#显示图形</span></span>
<span id="cb70-15"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb70-15" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="inline-figure"><img src="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97_files/figure-html/plot-box-abnormal-1.png" width="95%" style="display: block; margin: auto;"></div>
<p>这样做只能直观呈现，要想得到异常点，可以手动计算选择</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb71-1"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb71-1" aria-hidden="true" tabindex="-1"></a>q1,q3 <span class="op">=</span> abdata.value.quantile(q<span class="op">=</span>[<span class="fl">0.25</span>,<span class="fl">0.75</span>])</span>
<span id="cb71-2"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb71-2" aria-hidden="true" tabindex="-1"></a>abdata[(abdata.value <span class="op">&lt;</span> q1<span class="op">-</span><span class="fl">1.5</span><span class="op">*</span>(q3<span class="op">-</span>q1)) <span class="op">|</span> (abdata.value<span class="op">&gt;</span>q3<span class="op">+</span><span class="fl">1.5</span><span class="op">*</span>(q3<span class="op">-</span>q1))]</span></code></pre></div>
<pre class="scroll-200"><code>         value
61   56.623736
100  50.000000
101  57.000000
102  83.000000
103  90.000000</code></pre>
</div>
<div id="正态分布图" class="section level4" number="3.5.1.2">
<h4>
<span class="header-section-number">3.5.1.2</span> 正态分布图<a class="anchor" aria-label="anchor" href="#%E6%AD%A3%E6%80%81%E5%88%86%E5%B8%83%E5%9B%BE"><i class="fas fa-link"></i></a>
</h4>
<p>如果数据满足正态分布，还可以通过3<span class="math inline">\(\sigma\)</span>的准则来进行异常值的判断，根据正态分布的定义可知，数据点落在偏离均值正负1倍标准差（即sigma值）内的概率为68.2%；数据点落在偏离均值正负2倍标准差内的概率为95.4%；数据点落在偏离均值正负3倍标准差内的概率为99.6%。</p>
<p>所以，换个角度思考上文提到的概率值，如果数据点落在偏离均值正负2倍标准差之外的概率就不足5%，它属于小概率事件，即认为这样的数据点为异常点。同理，如果数据点落在偏离均值正负3倍标准差之外的概率将会更小，可以认为这些数据点为极端异常点。为使读者直观地理解文中提到的概率值，可以查看标准正态分布的概率密度图，如下图所示：</p>
<div class="inline-figure"><img src="static/image/%E6%95%B0%E6%8D%AE/%E6%AD%A3%E6%80%81%E5%88%86%E5%B8%83.png" width="95%" style="display: block; margin: auto;"></div>
<p>可以按照下表中的判断条件，识别出数值型变量的异常点和极端异常点，如下表所示：</p>
<div class="inline-figure"><img src="static/image/%E6%95%B0%E6%8D%AE/%E5%BC%82%E5%B8%B8%E7%82%B9.png" width="95%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb73"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb73-1"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 绘制单条折线图，并在折线图的基础上添加点图</span></span>
<span id="cb73-2"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb73-2" aria-hidden="true" tabindex="-1"></a>abdata.index <span class="op">=</span> pd.date_range(<span class="st">"2023-01-01"</span>,periods<span class="op">=</span><span class="bu">len</span>(abdata))</span>
<span id="cb73-3"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb73-3" aria-hidden="true" tabindex="-1"></a>abdata.plot( </span>
<span id="cb73-4"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb73-4" aria-hidden="true" tabindex="-1"></a>      linestyle <span class="op">=</span> <span class="st">'-'</span>, <span class="co"># 设置折线类型</span></span>
<span id="cb73-5"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb73-5" aria-hidden="true" tabindex="-1"></a>      linewidth <span class="op">=</span> <span class="dv">2</span>, <span class="co"># 设置线条宽度</span></span>
<span id="cb73-6"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb73-6" aria-hidden="true" tabindex="-1"></a>      color <span class="op">=</span> <span class="st">'steelblue'</span>, <span class="co"># 设置折线颜色</span></span>
<span id="cb73-7"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb73-7" aria-hidden="true" tabindex="-1"></a>      marker <span class="op">=</span> <span class="st">'o'</span>, <span class="co"># 往折线图中添加圆点</span></span>
<span id="cb73-8"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb73-8" aria-hidden="true" tabindex="-1"></a>      markersize <span class="op">=</span> <span class="dv">4</span>, <span class="co"># 设置点的大小</span></span>
<span id="cb73-9"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb73-9" aria-hidden="true" tabindex="-1"></a>      markeredgecolor<span class="op">=</span><span class="st">'black'</span>, <span class="co"># 设置点的边框色</span></span>
<span id="cb73-10"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb73-10" aria-hidden="true" tabindex="-1"></a>      markerfacecolor<span class="op">=</span><span class="st">'black'</span>) <span class="co"># 设置点的填充色</span></span>
<span id="cb73-11"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb73-11" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb73-12"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb73-12" aria-hidden="true" tabindex="-1"></a><span class="co"># 添加上下界的水平参考线（便于判断异常点，如下判断极端异常点，只需将2改为3）</span></span>
<span id="cb73-13"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb73-13" aria-hidden="true" tabindex="-1"></a>plt.axhline(y <span class="op">=</span> abdata.value.mean() <span class="op">-</span> <span class="dv">2</span><span class="op">*</span>abdata.value.std(), linestyle <span class="op">=</span> <span class="st">'--'</span>, color <span class="op">=</span> <span class="st">'gray'</span>)</span>
<span id="cb73-14"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb73-14" aria-hidden="true" tabindex="-1"></a>plt.axhline(y <span class="op">=</span> abdata.value.mean() <span class="op">+</span> <span class="dv">2</span><span class="op">*</span>abdata.value.std(), linestyle <span class="op">=</span> <span class="st">'--'</span>, color <span class="op">=</span> <span class="st">'gray'</span>)</span>
<span id="cb73-15"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb73-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-16"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb73-16" aria-hidden="true" tabindex="-1"></a><span class="co"># 导入模块，用于日期刻度的修改（因为默认格式下的日期刻度标签并不是很友好）</span></span>
<span id="cb73-17"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb73-17" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib <span class="im">as</span> mpl</span>
<span id="cb73-18"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb73-18" aria-hidden="true" tabindex="-1"></a><span class="co"># 获取图的坐标信息</span></span>
<span id="cb73-19"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb73-19" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> plt.gca()</span>
<span id="cb73-20"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb73-20" aria-hidden="true" tabindex="-1"></a><span class="co"># 设置日期的显示格式  </span></span>
<span id="cb73-21"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb73-21" aria-hidden="true" tabindex="-1"></a>date_format <span class="op">=</span> mpl.dates.DateFormatter(<span class="st">"%m-</span><span class="sc">%d</span><span class="st">"</span>)  </span>
<span id="cb73-22"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb73-22" aria-hidden="true" tabindex="-1"></a>ax.xaxis.set_major_formatter(date_format) </span>
<span id="cb73-23"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb73-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-24"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb73-24" aria-hidden="true" tabindex="-1"></a><span class="co"># 设置x轴每个刻度的间隔天数</span></span>
<span id="cb73-25"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb73-25" aria-hidden="true" tabindex="-1"></a>xlocator <span class="op">=</span> mpl.ticker.MultipleLocator(<span class="dv">7</span>)</span>
<span id="cb73-26"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb73-26" aria-hidden="true" tabindex="-1"></a>ax.xaxis.set_major_locator(xlocator)</span>
<span id="cb73-27"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb73-27" aria-hidden="true" tabindex="-1"></a><span class="co"># 为了避免x轴刻度标签的紧凑，将刻度标签旋转45度</span></span>
<span id="cb73-28"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb73-28" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>)</span>
<span id="cb73-29"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb73-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-30"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb73-30" aria-hidden="true" tabindex="-1"></a><span class="co"># 显示图形</span></span></code></pre></div>
<pre class="scroll-200"><code>(array([19355., 19362., 19369., 19376., 19383., 19390., 19397., 19404.,
       19411., 19418., 19425., 19432., 19439., 19446., 19453., 19460.,
       19467.]), [Text(19355.0, 0, '12-29'), Text(19362.0, 0, '01-05'), Text(19369.0, 0, '01-12'), Text(19376.0, 0, '01-19'), Text(19383.0, 0, '01-26'), Text(19390.0, 0, '02-02'), Text(19397.0, 0, '02-09'), Text(19404.0, 0, '02-16'), Text(19411.0, 0, '02-23'), Text(19418.0, 0, '03-02'), Text(19425.0, 0, '03-09'), Text(19432.0, 0, '03-16'), Text(19439.0, 0, '03-23'), Text(19446.0, 0, '03-30'), Text(19453.0, 0, '04-06'), Text(19460.0, 0, '04-13'), Text(19467.0, 0, '04-20')])</code></pre>
<div class="sourceCode" id="cb75"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb75-1"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb75-1" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="inline-figure"><img src="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97_files/figure-html/plotab-1.png" alt="异常数据的折线图" width="95%"></div>
</div>
</div>
<div id="处理异常值" class="section level3" number="3.5.2">
<h3>
<span class="header-section-number">3.5.2</span> 处理异常值<a class="anchor" aria-label="anchor" href="#%E5%A4%84%E7%90%86%E5%BC%82%E5%B8%B8%E5%80%BC"><i class="fas fa-link"></i></a>
</h3>
<p>检测到了异常值，我们需要对其进行一定的处理。而一般异常值的处理方法可大致分为以下几种</p>
<ul>
<li>删除含有异常值的记录：直接将含有异常值的记录删除；</li>
<li>视为缺失值：将异常值视为缺失值，利用缺失值处理的方法进行处理；</li>
<li>平均值修正：可用前后两个观测值的平均值修正该异常值；</li>
<li>不处理：直接在具有异常值的数据集上进行数据挖掘；</li>
</ul>
<p>是否要删除异常值可根据实际情况考虑。因为一些模型对异常值不很敏感，即使有异常值也不影响模型效果，但是一些模型比如逻辑回归LR对异常值很敏感，如果不进行处理，可能会出现过拟合等非常差的效果。</p>
</div>
</div>
<div id="字段值的处理" class="section level2" number="3.6">
<h2>
<span class="header-section-number">3.6</span> 字段值的处理<a class="anchor" aria-label="anchor" href="#%E5%AD%97%E6%AE%B5%E5%80%BC%E7%9A%84%E5%A4%84%E7%90%86"><i class="fas fa-link"></i></a>
</h2>
<div id="map" class="section level3" number="3.6.1">
<h3>
<span class="header-section-number">3.6.1</span> .map()<a class="anchor" aria-label="anchor" href="#map"><i class="fas fa-link"></i></a>
</h3>
<p><code>.map(func/**kwargs)</code></p>
<p>处理一个字段中每一类元素(如果有类未被指定会被map为np.nan)或每一个元素</p>
<p>序列带有<code>.map()</code>方法,数据框没有,所以可以对单个字段进行map操作，若想同时对多个字段进行map操作，可以结合agg函数。</p>
<p>可以传递函数或字典</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb76-1"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb76-1" aria-hidden="true" tabindex="-1"></a>data.性别.<span class="bu">map</span>({<span class="st">"男"</span>:<span class="st">"male"</span>}).head()</span></code></pre></div>
<pre class="scroll-200"><code>0    male
1     NaN
2     NaN
3    male
4    male
Name: 性别, dtype: object</code></pre>
</div>
<div id="replace" class="section level3" number="3.6.2">
<h3>
<span class="header-section-number">3.6.2</span> .replace()<a class="anchor" aria-label="anchor" href="#replace"><i class="fas fa-link"></i></a>
</h3>
<p><code>.replace(to_repalce,value,method)</code></p>
<p>对特定的几个值进行替换</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb78-1"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb78-1" aria-hidden="true" tabindex="-1"></a>nadata.null.replace(np.nan,<span class="st">"replace"</span>)</span></code></pre></div>
<pre class="scroll-200"><code>0    replace
1    replace
2           
3        nan
4          0
5    replace
6    replace
7           
8        nan
9          0
Name: null, dtype: object</code></pre>
<p>可以只对某一列的某一类值进行替换，其他种类不变</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb80-1"><a href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html#cb80-1" aria-hidden="true" tabindex="-1"></a>nadata.replace({<span class="st">"null"</span>:{<span class="dv">0</span>:<span class="st">"00"</span>}})</span></code></pre></div>
<pre class="scroll-200"><code>   null value
0  None     1
1   NaN     8
2           0
3   nan     8
4    00     8
5  None     0
6   NaN   NaN
7           7
8   nan     2
9    00     7</code></pre>
</div>
<div id="str" class="section level3" number="3.6.3">
<h3>
<span class="header-section-number">3.6.3</span> .str<a class="anchor" aria-label="anchor" href="#str"><i class="fas fa-link"></i></a>
</h3>
<p>对string类型的字段中的元素进行string类型的操作</p>
<ul>
<li>字符串列表的默认类型是object，我们如果想指定类型，可以在生成Series时声明dtype,或者之后使用.astype()方法
<ul>
<li>dtype = “string”/pd.StringDtype()</li>
<li>.astype(“string”)</li>
<li>NA 将会被转化为&lt; NA &gt;</li>
</ul>
</li>
<li>method
<ul>
<li>.str.lower(),.str.upper():小写，大写</li>
<li>.str.len()：字符串长度</li>
<li>.str.strip():清除两边空格</li>
<li>.str.split()，.str.rsplit():切分字符串
<ul>
<li>.str.get(1)=.str[1]，可以获得split后的每个element的id为1的元素</li>
<li>.expand =True:自动把每个切分值作为一列</li>
<li>n=1:切分一次后就不切分</li>
</ul>
</li>
<li>.str.replace(pat,repl):可以使用正则表达式
<ul>
<li>regex:是否使用正则表达式,设置为False时，pat,repl必须是字符串</li>
<li>case:是否区分大小写</li>
<li>pat:可以是re.compile对象,比如<code>re.compile(r"^.a|dog", flags=re.IGNORECASE)</code>
</li>
<li>repl:可以是函数，函数的参数是一个正则表达式对象，比如match对象</li>
</ul>
</li>
<li>.str.cat(sep=““,others=):concatenate，把每个元素以sep为分隔结合到一起
<ul>
<li>sep:默认是空</li>
<li>na_rep:默认空值是不被concatenate，可以为空值设置一个字符串用来连接</li>
<li>others:
<ul>
<li>
<li>Concatenating a Series and something array-like into a Series:row的数目相同</li>
<li>Concatenating a Series and an indexed object into a Series, with alignment:可以指定join参数</li>
<li>Concatenating a Series and many objects into a Series：Several array-like items (specifically: Series, Index, and 1-dimensional variants of np.ndarray) can be combined in a list-like container (including iterators, dict-views, etc.).</li>
</ul>
</li>
</ul>
</li>
<li>.str.extract():returns only the first match
<ul>
<li>接受一个正则表达式:至少有一个group，然后一个group为一列，每个字符若无匹配项则为&lt; NA &gt;</li>
</ul>
</li>
<li>.str.extractall():Extract all matches in each subject ,结果通常是一个有着MultiIndex的DataFrame,最后一层level一般是“match”,代表了subject的顺序</li>
<li>str.contains(pattern):测试字符串是否包含一个模式</li>
<li>str.match(pattern):测试字符串是否匹配一个模式，从字符串开头匹配</li>
<li>str.fullmatch(pattern):测试整个字符串是否满足模式</li>
<li>str.get_dummies():
<ul>
<li>Series:pd.Series([“a”,“a|b”,np.nan,“a|c”]).str.get_dummies(sep=“|”),返回DataFrame,相当于每个元素是一些特征的集合，我们找到所有的集合作为column，然后赋予0,1</li>
<li>Index:MultiIndex</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="inline-table"><table class="colwidths-given table" id="text-summary">
<colgroup>
<col style="width: 20%">
<col style="width: 80%">
</colgroup>
<thead><tr class="row-odd">
<th class="head">
<p>
Method
</p>
</th>
<th class="head">
<p>
Description
</p>
</th>
</tr></thead>
<tbody>
<tr class="row-even">
<td>
<p>
<a class="reference internal" href="../reference/api/pandas.Series.str.cat.html#pandas.Series.str.cat" title="pandas.Series.str.cat"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cat()</span></code></a>
</p>
</td>
<td>
<p>
Concatenate strings
</p>
</td>
</tr>
<tr class="row-odd">
<td>
<p>
<a class="reference internal" href="../reference/api/pandas.Series.str.split.html#pandas.Series.str.split" title="pandas.Series.str.split"><code class="xref py py-meth docutils literal notranslate"><span class="pre">split()</span></code></a>
</p>
</td>
<td>
<p>
Split strings on delimiter
</p>
</td>
</tr>
<tr class="row-even">
<td>
<p>
<a class="reference internal" href="../reference/api/pandas.Series.str.rsplit.html#pandas.Series.str.rsplit" title="pandas.Series.str.rsplit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rsplit()</span></code></a>
</p>
</td>
<td>
<p>
Split strings on delimiter working from the end of the string
</p>
</td>
</tr>
<tr class="row-odd">
<td>
<p>
<a class="reference internal" href="../reference/api/pandas.Series.str.get.html#pandas.Series.str.get" title="pandas.Series.str.get"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get()</span></code></a>
</p>
</td>
<td>
<p>
Index into each element (retrieve i-th element)
</p>
</td>
</tr>
<tr class="row-even">
<td>
<p>
<a class="reference internal" href="../reference/api/pandas.Series.str.join.html#pandas.Series.str.join" title="pandas.Series.str.join"><code class="xref py py-meth docutils literal notranslate"><span class="pre">join()</span></code></a>
</p>
</td>
<td>
<p>
Join strings in each element of the Series with passed separator
</p>
</td>
</tr>
<tr class="row-odd">
<td>
<p>
<a class="reference internal" href="../reference/api/pandas.Series.str.get_dummies.html#pandas.Series.str.get_dummies" title="pandas.Series.str.get_dummies"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_dummies()</span></code></a>
</p>
</td>
<td>
<p>
Split strings on the delimiter returning DataFrame of dummy variables
</p>
</td>
</tr>
<tr class="row-even">
<td>
<p>
<a class="reference internal" href="../reference/api/pandas.Series.str.contains.html#pandas.Series.str.contains" title="pandas.Series.str.contains"><code class="xref py py-meth docutils literal notranslate"><span class="pre">contains()</span></code></a>
</p>
</td>
<td>
<p>
Return boolean array if each string contains pattern/regex
</p>
</td>
</tr>
<tr class="row-odd">
<td>
<p>
<a class="reference internal" href="../reference/api/pandas.Series.str.replace.html#pandas.Series.str.replace" title="pandas.Series.str.replace"><code class="xref py py-meth docutils literal notranslate"><span class="pre">replace()</span></code></a>
</p>
</td>
<td>
<p>
Replace occurrences of pattern/regex/string with some other string or the return value of a callable given the occurrence
</p>
</td>
</tr>
<tr class="row-even">
<td>
<p>
<a class="reference internal" href="../reference/api/pandas.Series.str.repeat.html#pandas.Series.str.repeat" title="pandas.Series.str.repeat"><code class="xref py py-meth docutils literal notranslate"><span class="pre">repeat()</span></code></a>
</p>
</td>
<td>
<p>
Duplicate values (<code class="docutils literal notranslate"><span class="pre">s.str.repeat(3)</span></code> equivalent to <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">*</span> <span class="pre">3</span></code>)
</p>
</td>
</tr>
<tr class="row-odd">
<td>
<p>
<a class="reference internal" href="../reference/api/pandas.Series.str.pad.html#pandas.Series.str.pad" title="pandas.Series.str.pad"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pad()</span></code></a>
</p>
</td>
<td>
<p>
Add whitespace to left, right, or both sides of strings
</p>
</td>
</tr>
<tr class="row-even">
<td>
<p>
<a class="reference internal" href="../reference/api/pandas.Series.str.center.html#pandas.Series.str.center" title="pandas.Series.str.center"><code class="xref py py-meth docutils literal notranslate"><span class="pre">center()</span></code></a>
</p>
</td>
<td>
<p>
Equivalent to <code class="docutils literal notranslate"><span class="pre">str.center</span></code>
</p>
</td>
</tr>
<tr class="row-odd">
<td>
<p>
<a class="reference internal" href="../reference/api/pandas.Series.str.ljust.html#pandas.Series.str.ljust" title="pandas.Series.str.ljust"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ljust()</span></code></a>
</p>
</td>
<td>
<p>
Equivalent to <code class="docutils literal notranslate"><span class="pre">str.ljust</span></code>
</p>
</td>
</tr>
<tr class="row-even">
<td>
<p>
<a class="reference internal" href="../reference/api/pandas.Series.str.rjust.html#pandas.Series.str.rjust" title="pandas.Series.str.rjust"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rjust()</span></code></a>
</p>
</td>
<td>
<p>
Equivalent to <code class="docutils literal notranslate"><span class="pre">str.rjust</span></code>
</p>
</td>
</tr>
<tr class="row-odd">
<td>
<p>
<a class="reference internal" href="../reference/api/pandas.Series.str.zfill.html#pandas.Series.str.zfill" title="pandas.Series.str.zfill"><code class="xref py py-meth docutils literal notranslate"><span class="pre">zfill()</span></code></a>
</p>
</td>
<td>
<p>
Equivalent to <code class="docutils literal notranslate"><span class="pre">str.zfill</span></code>
</p>
</td>
</tr>
<tr class="row-even">
<td>
<p>
<a class="reference internal" href="../reference/api/pandas.Series.str.wrap.html#pandas.Series.str.wrap" title="pandas.Series.str.wrap"><code class="xref py py-meth docutils literal notranslate"><span class="pre">wrap()</span></code></a>
</p>
</td>
<td>
<p>
Split long strings into lines with length less than a given width
</p>
</td>
</tr>
<tr class="row-odd">
<td>
<p>
<a class="reference internal" href="../reference/api/pandas.Series.str.slice.html#pandas.Series.str.slice" title="pandas.Series.str.slice"><code class="xref py py-meth docutils literal notranslate"><span class="pre">slice()</span></code></a>
</p>
</td>
<td>
<p>
Slice each string in the Series
</p>
</td>
</tr>
<tr class="row-even">
<td>
<p>
<a class="reference internal" href="../reference/api/pandas.Series.str.slice_replace.html#pandas.Series.str.slice_replace" title="pandas.Series.str.slice_replace"><code class="xref py py-meth docutils literal notranslate"><span class="pre">slice_replace()</span></code></a>
</p>
</td>
<td>
<p>
Replace slice in each string with passed value
</p>
</td>
</tr>
<tr class="row-odd">
<td>
<p>
<a class="reference internal" href="../reference/api/pandas.Series.str.count.html#pandas.Series.str.count" title="pandas.Series.str.count"><code class="xref py py-meth docutils literal notranslate"><span class="pre">count()</span></code></a>
</p>
</td>
<td>
<p>
Count occurrences of pattern
</p>
</td>
</tr>
<tr class="row-even">
<td>
<p>
<a class="reference internal" href="../reference/api/pandas.Series.str.startswith.html#pandas.Series.str.startswith" title="pandas.Series.str.startswith"><code class="xref py py-meth docutils literal notranslate"><span class="pre">startswith()</span></code></a>
</p>
</td>
<td>
<p>
Equivalent to <code class="docutils literal notranslate"><span class="pre">str.startswith(pat)</span></code> for each element
</p>
</td>
</tr>
<tr class="row-odd">
<td>
<p>
<a class="reference internal" href="../reference/api/pandas.Series.str.endswith.html#pandas.Series.str.endswith" title="pandas.Series.str.endswith"><code class="xref py py-meth docutils literal notranslate"><span class="pre">endswith()</span></code></a>
</p>
</td>
<td>
<p>
Equivalent to <code class="docutils literal notranslate"><span class="pre">str.endswith(pat)</span></code> for each element
</p>
</td>
</tr>
<tr class="row-even">
<td>
<p>
<a class="reference internal" href="../reference/api/pandas.Series.str.findall.html#pandas.Series.str.findall" title="pandas.Series.str.findall"><code class="xref py py-meth docutils literal notranslate"><span class="pre">findall()</span></code></a>
</p>
</td>
<td>
<p>
Compute list of all occurrences of pattern/regex for each string
</p>
</td>
</tr>
<tr class="row-odd">
<td>
<p>
<a class="reference internal" href="../reference/api/pandas.Series.str.match.html#pandas.Series.str.match" title="pandas.Series.str.match"><code class="xref py py-meth docutils literal notranslate"><span class="pre">match()</span></code></a>
</p>
</td>
<td>
<p>
Call <code class="docutils literal notranslate"><span class="pre">re.match</span></code> on each element, returning matched groups as list
</p>
</td>
</tr>
<tr class="row-even">
<td>
<p>
<a class="reference internal" href="../reference/api/pandas.Series.str.extract.html#pandas.Series.str.extract" title="pandas.Series.str.extract"><code class="xref py py-meth docutils literal notranslate"><span class="pre">extract()</span></code></a>
</p>
</td>
<td>
<p>
Call <code class="docutils literal notranslate"><span class="pre">re.search</span></code> on each element, returning DataFrame with one row for each element and one column for each regex capture group
</p>
</td>
</tr>
<tr class="row-odd">
<td>
<p>
<a class="reference internal" href="../reference/api/pandas.Series.str.extractall.html#pandas.Series.str.extractall" title="pandas.Series.str.extractall"><code class="xref py py-meth docutils literal notranslate"><span class="pre">extractall()</span></code></a>
</p>
</td>
<td>
<p>
Call <code class="docutils literal notranslate"><span class="pre">re.findall</span></code> on each element, returning DataFrame with one row for each match and one column for each regex capture group
</p>
</td>
</tr>
<tr class="row-even">
<td>
<p>
<a class="reference internal" href="../reference/api/pandas.Series.str.len.html#pandas.Series.str.len" title="pandas.Series.str.len"><code class="xref py py-meth docutils literal notranslate"><span class="pre">len()</span></code></a>
</p>
</td>
<td>
<p>
Compute string lengths
</p>
</td>
</tr>
<tr class="row-odd">
<td>
<p>
<a class="reference internal" href="../reference/api/pandas.Series.str.strip.html#pandas.Series.str.strip" title="pandas.Series.str.strip"><code class="xref py py-meth docutils literal notranslate"><span class="pre">strip()</span></code></a>
</p>
</td>
<td>
<p>
Equivalent to <code class="docutils literal notranslate"><span class="pre">str.strip</span></code>
</p>
</td>
</tr>
<tr class="row-even">
<td>
<p>
<a class="reference internal" href="../reference/api/pandas.Series.str.rstrip.html#pandas.Series.str.rstrip" title="pandas.Series.str.rstrip"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rstrip()</span></code></a>
</p>
</td>
<td>
<p>
Equivalent to <code class="docutils literal notranslate"><span class="pre">str.rstrip</span></code>
</p>
</td>
</tr>
<tr class="row-odd">
<td>
<p>
<a class="reference internal" href="../reference/api/pandas.Series.str.lstrip.html#pandas.Series.str.lstrip" title="pandas.Series.str.lstrip"><code class="xref py py-meth docutils literal notranslate"><span class="pre">lstrip()</span></code></a>
</p>
</td>
<td>
<p>
Equivalent to <code class="docutils literal notranslate"><span class="pre">str.lstrip</span></code>
</p>
</td>
</tr>
<tr class="row-even">
<td>
<p>
<a class="reference internal" href="../reference/api/pandas.Series.str.partition.html#pandas.Series.str.partition" title="pandas.Series.str.partition"><code class="xref py py-meth docutils literal notranslate"><span class="pre">partition()</span></code></a>
</p>
</td>
<td>
<p>
Equivalent to <code class="docutils literal notranslate"><span class="pre">str.partition</span></code>
</p>
</td>
</tr>
<tr class="row-odd">
<td>
<p>
<a class="reference internal" href="../reference/api/pandas.Series.str.rpartition.html#pandas.Series.str.rpartition" title="pandas.Series.str.rpartition"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rpartition()</span></code></a>
</p>
</td>
<td>
<p>
Equivalent to <code class="docutils literal notranslate"><span class="pre">str.rpartition</span></code>
</p>
</td>
</tr>
<tr class="row-even">
<td>
<p>
<a class="reference internal" href="../reference/api/pandas.Series.str.lower.html#pandas.Series.str.lower" title="pandas.Series.str.lower"><code class="xref py py-meth docutils literal notranslate"><span class="pre">lower()</span></code></a>
</p>
</td>
<td>
<p>
Equivalent to <code class="docutils literal notranslate"><span class="pre">str.lower</span></code>
</p>
</td>
</tr>
<tr class="row-odd">
<td>
<p>
<a class="reference internal" href="../reference/api/pandas.Series.str.casefold.html#pandas.Series.str.casefold" title="pandas.Series.str.casefold"><code class="xref py py-meth docutils literal notranslate"><span class="pre">casefold()</span></code></a>
</p>
</td>
<td>
<p>
Equivalent to <code class="docutils literal notranslate"><span class="pre">str.casefold</span></code>
</p>
</td>
</tr>
<tr class="row-even">
<td>
<p>
<a class="reference internal" href="../reference/api/pandas.Series.str.upper.html#pandas.Series.str.upper" title="pandas.Series.str.upper"><code class="xref py py-meth docutils literal notranslate"><span class="pre">upper()</span></code></a>
</p>
</td>
<td>
<p>
Equivalent to <code class="docutils literal notranslate"><span class="pre">str.upper</span></code>
</p>
</td>
</tr>
<tr class="row-odd">
<td>
<p>
<a class="reference internal" href="../reference/api/pandas.Series.str.find.html#pandas.Series.str.find" title="pandas.Series.str.find"><code class="xref py py-meth docutils literal notranslate"><span class="pre">find()</span></code></a>
</p>
</td>
<td>
<p>
Equivalent to <code class="docutils literal notranslate"><span class="pre">str.find</span></code>
</p>
</td>
</tr>
<tr class="row-even">
<td>
<p>
<a class="reference internal" href="../reference/api/pandas.Series.str.rfind.html#pandas.Series.str.rfind" title="pandas.Series.str.rfind"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rfind()</span></code></a>
</p>
</td>
<td>
<p>
Equivalent to <code class="docutils literal notranslate"><span class="pre">str.rfind</span></code>
</p>
</td>
</tr>
<tr class="row-odd">
<td>
<p>
<a class="reference internal" href="../reference/api/pandas.Series.str.index.html#pandas.Series.str.index" title="pandas.Series.str.index"><code class="xref py py-meth docutils literal notranslate"><span class="pre">index()</span></code></a>
</p>
</td>
<td>
<p>
Equivalent to <code class="docutils literal notranslate"><span class="pre">str.index</span></code>
</p>
</td>
</tr>
<tr class="row-even">
<td>
<p>
<a class="reference internal" href="../reference/api/pandas.Series.str.rindex.html#pandas.Series.str.rindex" title="pandas.Series.str.rindex"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rindex()</span></code></a>
</p>
</td>
<td>
<p>
Equivalent to <code class="docutils literal notranslate"><span class="pre">str.rindex</span></code>
</p>
</td>
</tr>
<tr class="row-odd">
<td>
<p>
<a class="reference internal" href="../reference/api/pandas.Series.str.capitalize.html#pandas.Series.str.capitalize" title="pandas.Series.str.capitalize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">capitalize()</span></code></a>
</p>
</td>
<td>
<p>
Equivalent to <code class="docutils literal notranslate"><span class="pre">str.capitalize</span></code>
</p>
</td>
</tr>
<tr class="row-even">
<td>
<p>
<a class="reference internal" href="../reference/api/pandas.Series.str.swapcase.html#pandas.Series.str.swapcase" title="pandas.Series.str.swapcase"><code class="xref py py-meth docutils literal notranslate"><span class="pre">swapcase()</span></code></a>
</p>
</td>
<td>
<p>
Equivalent to <code class="docutils literal notranslate"><span class="pre">str.swapcase</span></code>
</p>
</td>
</tr>
<tr class="row-odd">
<td>
<p>
<a class="reference internal" href="../reference/api/pandas.Series.str.normalize.html#pandas.Series.str.normalize" title="pandas.Series.str.normalize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">normalize()</span></code></a>
</p>
</td>
<td>
<p>
Return Unicode normal form. Equivalent to <code class="docutils literal notranslate"><span class="pre">unicodedata.normalize</span></code>
</p>
</td>
</tr>
<tr class="row-even">
<td>
<p>
<a class="reference internal" href="../reference/api/pandas.Series.str.translate.html#pandas.Series.str.translate" title="pandas.Series.str.translate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">translate()</span></code></a>
</p>
</td>
<td>
<p>
Equivalent to <code class="docutils literal notranslate"><span class="pre">str.translate</span></code>
</p>
</td>
</tr>
<tr class="row-odd">
<td>
<p>
<a class="reference internal" href="../reference/api/pandas.Series.str.isalnum.html#pandas.Series.str.isalnum" title="pandas.Series.str.isalnum"><code class="xref py py-meth docutils literal notranslate"><span class="pre">isalnum()</span></code></a>
</p>
</td>
<td>
<p>
Equivalent to <code class="docutils literal notranslate"><span class="pre">str.isalnum</span></code>
</p>
</td>
</tr>
<tr class="row-even">
<td>
<p>
<a class="reference internal" href="../reference/api/pandas.Series.str.isalpha.html#pandas.Series.str.isalpha" title="pandas.Series.str.isalpha"><code class="xref py py-meth docutils literal notranslate"><span class="pre">isalpha()</span></code></a>
</p>
</td>
<td>
<p>
Equivalent to <code class="docutils literal notranslate"><span class="pre">str.isalpha</span></code>
</p>
</td>
</tr>
<tr class="row-odd">
<td>
<p>
<a class="reference internal" href="../reference/api/pandas.Series.str.isdigit.html#pandas.Series.str.isdigit" title="pandas.Series.str.isdigit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">isdigit()</span></code></a>
</p>
</td>
<td>
<p>
Equivalent to <code class="docutils literal notranslate"><span class="pre">str.isdigit</span></code>
</p>
</td>
</tr>
<tr class="row-even">
<td>
<p>
<a class="reference internal" href="../reference/api/pandas.Series.str.isspace.html#pandas.Series.str.isspace" title="pandas.Series.str.isspace"><code class="xref py py-meth docutils literal notranslate"><span class="pre">isspace()</span></code></a>
</p>
</td>
<td>
<p>
Equivalent to <code class="docutils literal notranslate"><span class="pre">str.isspace</span></code>
</p>
</td>
</tr>
<tr class="row-odd">
<td>
<p>
<a class="reference internal" href="../reference/api/pandas.Series.str.islower.html#pandas.Series.str.islower" title="pandas.Series.str.islower"><code class="xref py py-meth docutils literal notranslate"><span class="pre">islower()</span></code></a>
</p>
</td>
<td>
<p>
Equivalent to <code class="docutils literal notranslate"><span class="pre">str.islower</span></code>
</p>
</td>
</tr>
<tr class="row-even">
<td>
<p>
<a class="reference internal" href="../reference/api/pandas.Series.str.isupper.html#pandas.Series.str.isupper" title="pandas.Series.str.isupper"><code class="xref py py-meth docutils literal notranslate"><span class="pre">isupper()</span></code></a>
</p>
</td>
<td>
<p>
Equivalent to <code class="docutils literal notranslate"><span class="pre">str.isupper</span></code>
</p>
</td>
</tr>
<tr class="row-odd">
<td>
<p>
<a class="reference internal" href="../reference/api/pandas.Series.str.istitle.html#pandas.Series.str.istitle" title="pandas.Series.str.istitle"><code class="xref py py-meth docutils literal notranslate"><span class="pre">istitle()</span></code></a>
</p>
</td>
<td>
<p>
Equivalent to <code class="docutils literal notranslate"><span class="pre">str.istitle</span></code>
</p>
</td>
</tr>
<tr class="row-even">
<td>
<p>
<a class="reference internal" href="../reference/api/pandas.Series.str.isnumeric.html#pandas.Series.str.isnumeric" title="pandas.Series.str.isnumeric"><code class="xref py py-meth docutils literal notranslate"><span class="pre">isnumeric()</span></code></a>
</p>
</td>
<td>
<p>
Equivalent to <code class="docutils literal notranslate"><span class="pre">str.isnumeric</span></code>
</p>
</td>
</tr>
<tr class="row-odd">
<td>
<p>
<a class="reference internal" href="../reference/api/pandas.Series.str.isdecimal.html#pandas.Series.str.isdecimal" title="pandas.Series.str.isdecimal"><code class="xref py py-meth docutils literal notranslate"><span class="pre">isdecimal()</span></code></a>
</p>
</td>
<td>
<p>
Equivalent to <code class="docutils literal notranslate"><span class="pre">str.isdecimal</span></code>
</p>
</td>
</tr>
</tbody>
</table></div>
</div>
<div id="dt" class="section level3" number="3.6.4">
<h3>
<span class="header-section-number">3.6.4</span> .dt<a class="anchor" aria-label="anchor" href="#dt"><i class="fas fa-link"></i></a>
</h3>
<p>对日期类型的字段进行操作</p>
</div>
</div>
<div id="参考网址" class="section level2" number="3.7">
<h2>
<span class="header-section-number">3.7</span> 参考网址<a class="anchor" aria-label="anchor" href="#%E5%8F%82%E8%80%83%E7%BD%91%E5%9D%80"><i class="fas fa-link"></i></a>
</h2>
<p><a href="https://zhuanlan.zhihu.com/p/93555997">大数据分析</a></p>
<p><a href="https://www.php.cn/python-tutorials-489571.html">php</a></p>

</div>
</div>
<style>

/* Style the tab */
/* .tab {
    overflow: hidden;
    border: 1px solid #ccc;
    background-color: #f1f1f1;
} */
.tab {
    overflow: hidden;
    display: flex;
    align-items: flex-start;
    flex-direction: row;
    flex-wrap: wrap;
    padding: 0;
    /* margin-bottom: 8px; */
    /* margin-left: -8px; */
    /* margin-right: 0px; */
    /* border-bottom:1px solid #e0e0e0; */
    height: 32px;
    /*flex-basis: 100px;*/
    /* background-color: aliceblue; */
}

/* Style the buttons inside the tab */
/* .tab button {
    background-color: inherit;
    float: left;
    border: none;
    outline: none;
    cursor: pointer;
    padding: 14px 16px;
    transition: 0.3s;
    font-size: 17px;
} */

.tab button {
    background-color: inherit;
    margin:0;
    text-align: center;
    font-weight: 500;
    min-width: 100px;
    /*width:fit-content;*/
    height: 100%;
    /* padding:5px,5px; */
    border: none;
    font-size: 1rem;
    font-weight:400;
    line-height: 32px;
    letter-spacing: .5px;
}

/* Change background color of buttons on hover */
/* .tab button:hover {
    background-color: #ddd;
} */
.tab button:hover {
    background-color: aliceblue;
}

/* Create an active/current tablink class */
/* .tab button.active {
    background-color: #ccc;
} */
.tab button.active {
    border-bottom: 2px solid rgb(33,150,243);
    background-color: aliceblue;
    padding-left:0px;
    padding-right:0px;
}

/* Style the tab content */
/* .tabcontent {
    display: none;
    padding: 6px 12px;
    border: 1px solid #ccc;
    border-top: none;
} */
.tabcontent {
    display: none;
    /* border: 1px solid aliceblue; */
    /*background-color: aliceblue;*/
    /* margin-left: -8px; */
    /* margin-top: -8px; */
 }

.tabheader{
    display: none;
}

pre {
  word-break: normal;
  word-wrap: normal;
  margin-left: 0px;
}
</style>
<script>
    var tab = document.getElementsByClassName("tabset");
    for(i=0;i<tab.length;i++){
    var hL = tab[i].children[0].nodeName[1];
    var tabContents = tab[i].getElementsByTagName("h"+String(Number(hL)+1));
    var tabCon = document.createElement("div");
    tabCon.className = "tab";
    tab[i].insertBefore(tabCon,tabContents[0].parentNode);
     for(j=0;j<tabContents.length;j++){
         var tabConDiv = tabContents[j].parentNode;
         var tabId = tabConDiv.getAttribute("id");
         var tabNumber = tabConDiv.getAttribute("number").replaceAll('.','-');
         var newID = tabNumber + '-' + tabId;
         var button = document.createElement("button");
         button.className = "tablinks";
         button.setAttribute("onclick","openTab(event,'"+newID+"')");
         button.innerText = tabId.split('-')[0];
        //  button.innerText = tabContents[j].innerText;
         tabCon.appendChild(button);
         tabConDiv.setAttribute("id",newID);
         tabConDiv.className = "tabcontent";
         tabContents[j].innerHTML = "";
         tabContents[j].className = "tabheader";
     }
     tabContents[0].parentNode.style.display = "block";
     tabCon.children[0].className += " active"
    }

function openTab(evt,tabName){
    var i, tabcontent, tablinks;
//     tabcontent = document.getElementsByClassName("tabcontent");
//     for (i = 0; i < tabcontent.length; i++) {
//         tabcontent[i].style.display = "none";
//   }
//     tablinks = document.getElementsByClassName("tablinks");
//     for (i = 0; i < tablinks.length; i++) {
//     tablinks[i].className = tablinks[i].className.replace(" active", "");
//   }
//   document.getElementById(tabName).style.display = "block";
//   evt.currentTarget.className += " active";
    var container = evt.currentTarget.parentNode;
    tabcontent = container.parentNode.getElementsByClassName("tabcontent");
    for (i = 0; i < tabcontent.length; i++) {
        tabcontent[i].style.display = "none";
  }
    tablinks = container.getElementsByClassName("tablinks");
    for (i = 0; i < tablinks.length; i++) {
    tablinks[i].className = tablinks[i].className.replace(" active", "");
  }
  document.getElementById(tabName).style.display = "block";
  evt.currentTarget.className += " active";
}
</script><div class="giscus">
<script src="https://giscus.app/client.js" data-repo="wangchenglong99/wangchenglong99.github.io" data-repo-id="R_kgDOI6UvHg" data-category="Announcements" data-category-id="DIC_kwDOI6UvHs4CUJAN" data-mapping="pathname" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light_high_contrast" data-lang="zh-CN" crossorigin="anonymous" async>
</script><div></div>
  

  

</div>
<div class="chapter-nav">
<div class="prev"><a href="%E6%95%B0%E6%8D%AE%E8%8E%B7%E5%8F%96%E4%B8%8E%E5%AD%98%E5%82%A8.html"><span class="header-section-number">2</span> 数据获取与存储</a></div>
<div class="next"><a href="%E6%95%B0%E6%8D%AE%E6%93%8D%E4%BD%9C.html"><span class="header-section-number">4</span> 数据操作</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97"><span class="header-section-number">3</span> 数据清洗</a></li>
<li>
<a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E6%95%B0%E6%8D%AE%E4%BF%A1%E6%81%AF"><span class="header-section-number">3.1</span> 查看数据信息</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#info"><span class="header-section-number">3.1.1</span> .info()</a></li>
<li><a class="nav-link" href="#dtypes"><span class="header-section-number">3.1.2</span> .dtypes</a></li>
<li><a class="nav-link" href="#describe"><span class="header-section-number">3.1.3</span> .describe()</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#%E7%BC%BA%E5%A4%B1%E5%80%BC"><span class="header-section-number">3.2</span> 缺失值</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E7%BC%BA%E5%A4%B1%E5%80%BC"><span class="header-section-number">3.2.1</span> 查看缺失值</a></li>
<li><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E7%BC%BA%E5%A4%B1%E5%80%BC"><span class="header-section-number">3.2.2</span> 删除缺失值</a></li>
<li><a class="nav-link" href="#%E5%A1%AB%E8%A1%A5%E7%BC%BA%E5%A4%B1%E5%80%BC"><span class="header-section-number">3.2.3</span> 填补缺失值</a></li>
<li><a class="nav-link" href="#%E6%8F%92%E8%A1%A5%E6%B3%95"><span class="header-section-number">3.2.4</span> 插补法</a></li>
</ul>
</li>
<li><a class="nav-link" href="#%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="header-section-number">3.3</span> 类型转换</a></li>
<li>
<a class="nav-link" href="#%E9%87%8D%E5%A4%8D%E5%80%BC"><span class="header-section-number">3.4</span> 重复值</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E9%87%8D%E5%A4%8D%E5%80%BC"><span class="header-section-number">3.4.1</span> 查看重复值</a></li>
<li><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E9%87%8D%E5%A4%8D%E5%80%BC"><span class="header-section-number">3.4.2</span> 删除重复值</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#%E5%BC%82%E5%B8%B8%E5%80%BC"><span class="header-section-number">3.5</span> 异常值</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E5%BC%82%E5%B8%B8%E5%80%BC"><span class="header-section-number">3.5.1</span> 查看异常值</a></li>
<li><a class="nav-link" href="#%E5%A4%84%E7%90%86%E5%BC%82%E5%B8%B8%E5%80%BC"><span class="header-section-number">3.5.2</span> 处理异常值</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#%E5%AD%97%E6%AE%B5%E5%80%BC%E7%9A%84%E5%A4%84%E7%90%86"><span class="header-section-number">3.6</span> 字段值的处理</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#map"><span class="header-section-number">3.6.1</span> .map()</a></li>
<li><a class="nav-link" href="#replace"><span class="header-section-number">3.6.2</span> .replace()</a></li>
<li><a class="nav-link" href="#str"><span class="header-section-number">3.6.3</span> .str</a></li>
<li><a class="nav-link" href="#dt"><span class="header-section-number">3.6.4</span> .dt</a></li>
</ul>
</li>
<li><a class="nav-link" href="#%E5%8F%82%E8%80%83%E7%BD%91%E5%9D%80"><span class="header-section-number">3.7</span> 参考网址</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/wangchenglong99/wangchenglong99.github.io/blob/main/%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/wangchenglong99/wangchenglong99.github.io/edit/main/%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>wcl</strong>" was written by wcl. It was last built on 2023-03-24.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</div>
</body>
</html>
