<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>第7章 图表实例 | wcl</title>
<meta name="author" content="第7章 图表实例 | wcl">
<meta name="description" content='参考作者pythonic生物人 import pandas as pd import numpy as np import matplotlib as mpl #mpl.use("agg") import matplotlib.pyplot as plt import matplotlib.lines as mlines import matplotlib.patches as...'>
<meta name="generator" content="bookdown 0.39 with bs4_book()">
<meta property="og:title" content="第7章 图表实例 | wcl">
<meta property="og:type" content="book">
<meta property="og:url" content="https://github.com/wangchenglong99/wangchenglong99.github.io/图表实例.html">
<meta property="og:description" content='参考作者pythonic生物人 import pandas as pd import numpy as np import matplotlib as mpl #mpl.use("agg") import matplotlib.pyplot as plt import matplotlib.lines as mlines import matplotlib.patches as...'>
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="第7章 图表实例 | wcl">
<meta name="twitter:description" content='参考作者pythonic生物人 import pandas as pd import numpy as np import matplotlib as mpl #mpl.use("agg") import matplotlib.pyplot as plt import matplotlib.lines as mlines import matplotlib.patches as...'>
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.7.0/transition.js"></script><script src="libs/bs3compat-0.7.0/tabs.js"></script><script src="libs/bs3compat-0.7.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><style>
    /* pre {
      max-height: 300px;
      overflow-y: auto;
    }

    pre[class] {
      max-height: 100px;
    } */

    .scroll-200 {
      max-height: 200px;
      overflow-y: auto;
      background-color: inherit;
    }
    </style>
<link rel="shortcut icon" type="image/x-icon" href="icon/favicon.ico">
<script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">wcl</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li class="book-part">数据</li>
<li><a class="" href="introduction.html">introduction</a></li>
<li><a class="" href="%E6%95%B0%E6%8D%AE%E7%BC%96%E7%A0%81%E4%B8%8E%E6%A0%BC%E5%BC%8F.html"><span class="header-section-number">1</span> 数据编码与格式</a></li>
<li><a class="" href="%E6%95%B0%E6%8D%AE%E8%8E%B7%E5%8F%96%E4%B8%8E%E5%AD%98%E5%82%A8.html"><span class="header-section-number">2</span> 数据获取与存储</a></li>
<li><a class="" href="%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.html"><span class="header-section-number">3</span> 数据清洗</a></li>
<li><a class="" href="%E6%95%B0%E6%8D%AE%E6%93%8D%E4%BD%9C.html"><span class="header-section-number">4</span> 数据操作</a></li>
<li><a class="" href="%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97.html"><span class="header-section-number">5</span> 时间序列</a></li>
<li class="book-part">可视化</li>
<li><a class="" href="introduction-1.html">introduction</a></li>
<li><a class="" href="matplotlib.html"><span class="header-section-number">6</span> matplotlib</a></li>
<li><a class="active" href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html"><span class="header-section-number">7</span> 图表实例</a></li>
<li class="book-part">数据库</li>
<li><a class="" href="introduction-2.html">introduction</a></li>
<li><a class="" href="mysql%E9%80%9F%E6%9F%A5%E8%A1%A8.html"><span class="header-section-number">8</span> mysql速查表</a></li>
<li><a class="" href="pymysql.html"><span class="header-section-number">9</span> PyMysql</a></li>
<li class="book-part">机器学习</li>
<li><a class="" href="introduction-3.html">introduction</a></li>
<li><a class="" href="%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E6%A8%A1%E5%9E%8B.html"><span class="header-section-number">10</span> 时间序列模型</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/wangchenglong99/wangchenglong99.github.io">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="图表实例" class="section level1" number="7">
<h1>
<span class="header-section-number">第7章</span> 图表实例<a class="anchor" aria-label="anchor" href="#%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B"><i class="fas fa-link"></i></a>
</h1>
<p><a href="https://www.zhihu.com/column/c_1257815636945915904"><strong>参考作者pythonic生物人</strong></a></p>
<div class="sourceCode" id="cb446"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb446-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb446-1" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb446-2"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb446-2" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb446-3"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb446-3" tabindex="-1"></a><span class="im">import</span> matplotlib <span class="im">as</span> mpl</span>
<span id="cb446-4"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb446-4" tabindex="-1"></a><span class="co">#mpl.use("agg")</span></span>
<span id="cb446-5"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb446-5" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb446-6"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb446-6" tabindex="-1"></a><span class="im">import</span> matplotlib.lines <span class="im">as</span> mlines</span>
<span id="cb446-7"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb446-7" tabindex="-1"></a><span class="im">import</span> matplotlib.patches <span class="im">as</span> mpatches</span>
<span id="cb446-8"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb446-8" tabindex="-1"></a><span class="im">from</span> matplotlib.legend_handler <span class="im">import</span> HandlerLine2D, HandlerTuple </span>
<span id="cb446-9"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb446-9" tabindex="-1"></a><span class="im">from</span> numpy.random <span class="im">import</span> randn</span>
<span id="cb446-10"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb446-10" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb446-11"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb446-11" tabindex="-1"></a><span class="im">from</span> matplotlib <span class="im">import</span> ticker</span>
<span id="cb446-12"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb446-12" tabindex="-1"></a><span class="im">from</span> matplotlib.gridspec <span class="im">import</span> GridSpec</span>
<span id="cb446-13"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb446-13" tabindex="-1"></a>plt.rcParams[<span class="st">'font.sans-serif'</span>]<span class="op">=</span>[<span class="st">'Simhei'</span>]<span class="op">;</span> <span class="co">#SimHei黑体 </span></span>
<span id="cb446-14"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb446-14" tabindex="-1"></a>plt.rcParams[<span class="st">'axes.unicode_minus'</span>]<span class="op">=</span><span class="va">False</span><span class="op">;</span> <span class="co">#正常显示图中负号</span></span>
<span id="cb446-15"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb446-15" tabindex="-1"></a><span class="co">#teacher = pd.read_csv("data/数据/school/1_teacher.csv")</span></span>
<span id="cb446-16"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb446-16" tabindex="-1"></a>student <span class="op">=</span> pd.read_csv(<span class="st">"data/数据/school/2_student_info.csv"</span>)</span>
<span id="cb446-17"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb446-17" tabindex="-1"></a><span class="co">#kaoqin = pd.read_csv("data/数据/school/3_kaoqin.csv")</span></span>
<span id="cb446-18"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb446-18" tabindex="-1"></a><span class="co">#kaoqin_type = pd.read_csv("data/数据/school/4_kaoqintype.csv")</span></span>
<span id="cb446-19"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb446-19" tabindex="-1"></a>chengji <span class="op">=</span> pd.read_csv(<span class="st">"data/数据/school/5_chengji.csv"</span>)</span>
<span id="cb446-20"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb446-20" tabindex="-1"></a><span class="co">#exam_type = pd.read_csv("data/数据/school/6_exam_type.csv")</span></span>
<span id="cb446-21"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb446-21" tabindex="-1"></a><span class="co">#consumption = pd.read_csv("data/数据/school/7_consumption.csv")</span></span>
<span id="cb446-22"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb446-22" tabindex="-1"></a><span class="co">#teacher.head().pipe(lambda df:print(df.to_markdown(tablefmt="github")))</span></span>
<span id="cb446-23"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb446-23" tabindex="-1"></a>student.head().pipe(<span class="kw">lambda</span> df:<span class="bu">print</span>(df.to_markdown(tablefmt<span class="op">=</span><span class="st">"github"</span>)))</span></code></pre></div>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="1%">
<col width="7%">
<col width="5%">
<col width="4%">
<col width="6%">
<col width="7%">
<col width="6%">
<col width="8%">
<col width="9%">
<col width="6%">
<col width="4%">
<col width="6%">
<col width="5%">
<col width="8%">
<col width="7%">
</colgroup>
<thead><tr class="header">
<th></th>
<th>bf_StudentID</th>
<th>bf_Name</th>
<th>bf_sex</th>
<th>bf_nation</th>
<th>bf_BornDate</th>
<th>cla_Name</th>
<th>bf_NativePlace</th>
<th>Bf_ResidenceType</th>
<th>bf_policy</th>
<th>cla_id</th>
<th>cla_term</th>
<th>bf_zhusu</th>
<th>bf_leaveSchool</th>
<th>bf_qinshihao</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>0</td>
<td>14454</td>
<td>陈某某</td>
<td>女</td>
<td>汉族</td>
<td>2001</td>
<td>白-高二(01)</td>
<td>宁波</td>
<td>城镇</td>
<td>共青团员</td>
<td>901</td>
<td>2018-2019-1</td>
<td>nan</td>
<td>nan</td>
<td>nan</td>
</tr>
<tr class="even">
<td>1</td>
<td>14479</td>
<td>曹某某</td>
<td>男</td>
<td>汉族</td>
<td>nan</td>
<td>白-高二(01)</td>
<td>nan</td>
<td>城镇</td>
<td>共青团员</td>
<td>901</td>
<td>2018-2019-1</td>
<td>1</td>
<td>nan</td>
<td>315</td>
</tr>
<tr class="odd">
<td>2</td>
<td>14486</td>
<td>金某某</td>
<td>男</td>
<td>汉族</td>
<td>nan</td>
<td>白-高二(01)</td>
<td>nan</td>
<td>城镇</td>
<td>共青团员</td>
<td>901</td>
<td>2018-2019-1</td>
<td>1</td>
<td>nan</td>
<td>321</td>
</tr>
<tr class="even">
<td>3</td>
<td>14549</td>
<td>张某某</td>
<td>女</td>
<td>汉族</td>
<td>2002</td>
<td>白-高二(07)</td>
<td>浙江平湖</td>
<td>城镇</td>
<td>共青团员</td>
<td>907</td>
<td>2018-2019-1</td>
<td>nan</td>
<td>nan</td>
<td>nan</td>
</tr>
<tr class="odd">
<td>4</td>
<td>14550</td>
<td>张某某</td>
<td>女</td>
<td>汉族</td>
<td>2001</td>
<td>白-高二(04)</td>
<td>浙江宁波</td>
<td>城镇</td>
<td>共青团员</td>
<td>904</td>
<td>2018-2019-1</td>
<td>nan</td>
<td>nan</td>
<td>nan</td>
</tr>
</tbody>
</table></div>
<div class="sourceCode" id="cb447"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb447-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb447-1" tabindex="-1"></a><span class="co">#kaoqin.head().pipe(lambda df:print(df.to_markdown(tablefmt="github")))</span></span>
<span id="cb447-2"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb447-2" tabindex="-1"></a><span class="co">#kaoqin_type.head().pipe(lambda df:print(df.to_markdown(tablefmt="github")))</span></span>
<span id="cb447-3"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb447-3" tabindex="-1"></a>chengji.head().pipe(<span class="kw">lambda</span> df:<span class="bu">print</span>(df.to_markdown(tablefmt<span class="op">=</span><span class="st">"github"</span>)))</span></code></pre></div>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="1%">
<col width="6%">
<col width="7%">
<col width="12%">
<col width="6%">
<col width="7%">
<col width="6%">
<col width="6%">
<col width="9%">
<col width="8%">
<col width="6%">
<col width="7%">
<col width="7%">
<col width="6%">
</colgroup>
<thead><tr class="header">
<th></th>
<th>mes_TestID</th>
<th>exam_number</th>
<th>exam_numname</th>
<th>mes_sub_id</th>
<th>mes_sub_name</th>
<th>exam_term</th>
<th>exam_type</th>
<th>exam_sdate</th>
<th>mes_StudentID</th>
<th>mes_Score</th>
<th>mes_Z_Score</th>
<th>mes_T_Score</th>
<th>mes_dengdi</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>0</td>
<td>136424</td>
<td>282</td>
<td>2017年9月宁波市“十校联考”</td>
<td>17</td>
<td>政治</td>
<td>2017-2018-1</td>
<td>7</td>
<td>2017/9/20 00:00:00</td>
<td>13539</td>
<td>-2</td>
<td>nan</td>
<td>nan</td>
<td>nan</td>
</tr>
<tr class="even">
<td>1</td>
<td>136424</td>
<td>282</td>
<td>2017年9月宁波市“十校联考”</td>
<td>17</td>
<td>政治</td>
<td>2017-2018-1</td>
<td>7</td>
<td>2017/9/20 00:00:00</td>
<td>13548</td>
<td>90</td>
<td>1.07451</td>
<td>88.5961</td>
<td>0.137615</td>
</tr>
<tr class="odd">
<td>2</td>
<td>136424</td>
<td>282</td>
<td>2017年9月宁波市“十校联考”</td>
<td>17</td>
<td>政治</td>
<td>2017-2018-1</td>
<td>7</td>
<td>2017/9/20 00:00:00</td>
<td>13551</td>
<td>91</td>
<td>1.19415</td>
<td>89.5532</td>
<td>0.0917431</td>
</tr>
<tr class="even">
<td>3</td>
<td>136424</td>
<td>282</td>
<td>2017年9月宁波市“十校联考”</td>
<td>17</td>
<td>政治</td>
<td>2017-2018-1</td>
<td>7</td>
<td>2017/9/20 00:00:00</td>
<td>13555</td>
<td>-2</td>
<td>nan</td>
<td>nan</td>
<td>nan</td>
</tr>
<tr class="odd">
<td>4</td>
<td>136424</td>
<td>282</td>
<td>2017年9月宁波市“十校联考”</td>
<td>17</td>
<td>政治</td>
<td>2017-2018-1</td>
<td>7</td>
<td>2017/9/20 00:00:00</td>
<td>13559</td>
<td>-2</td>
<td>nan</td>
<td>nan</td>
<td>nan</td>
</tr>
</tbody>
</table></div>
<div class="sourceCode" id="cb448"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb448-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb448-1" tabindex="-1"></a><span class="co">#exam_type.head().pipe(lambda df:print(df.to_markdown(tablefmt="github")))</span></span>
<span id="cb448-2"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb448-2" tabindex="-1"></a><span class="co">#consumption.head().pipe(lambda df:print(df.to_markdown(tablefmt="github")))</span></span></code></pre></div>
<div id="绘制流程" class="section level2" number="7.1">
<h2>
<span class="header-section-number">7.1</span> 绘制流程<a class="anchor" aria-label="anchor" href="#%E7%BB%98%E5%88%B6%E6%B5%81%E7%A8%8B"><i class="fas fa-link"></i></a>
</h2>
<div class="inline-figure"><img src="static/image/%E5%8F%AF%E8%A7%86%E5%8C%96/%E7%BB%98%E5%88%B6%E6%B5%81%E7%A8%8B.jpg" width="95%" style="display: block; margin: auto;"></div>
</div>
<div id="参考" class="section level2" number="7.2">
<h2>
<span class="header-section-number">7.2</span> 参考<a class="anchor" aria-label="anchor" href="#%E5%8F%82%E8%80%83"><i class="fas fa-link"></i></a>
</h2>
<a href="./static/html/python%E5%8F%AF%E8%A7%86%E5%8C%96.html" target="_blank">python可视化.html</a><br><iframe src="./static/html/python%E5%8F%AF%E8%A7%86%E5%8C%96.html" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" width="100%" height="500">
</iframe>
</div>
<div id="axes参数设置" class="section level2" number="7.3">
<h2>
<span class="header-section-number">7.3</span> axes参数设置<a class="anchor" aria-label="anchor" href="#axes%E5%8F%82%E6%95%B0%E8%AE%BE%E7%BD%AE"><i class="fas fa-link"></i></a>
</h2>
<div id="tick_labels" class="section level3" number="7.3.1">
<h3>
<span class="header-section-number">7.3.1</span> tick_labels<a class="anchor" aria-label="anchor" href="#tick_labels"><i class="fas fa-link"></i></a>
</h3>
<pre><code>#获取label对象
ax.xaxis.get_ticklabels()
#获取label对象并且设置label
for label in ax.xaxis.get_ticklabels():
    # 调用x轴刻度标签实例，是一个text实例
    label.set_color('red') # 颜色
    label.set_rotation(45) # 旋转角度
    label.set_fontsize(16) # 字体大小
#更改label和tick值,tick设置为[]，ticks消失
# ax.xaxis.set_ticklabels()不被鼓励
ax.set_xticks(ticks,labels,minor=False,)
ax.yaxis.set_ticks(ticks,labels,minor=False)</code></pre>
</div>
<div id="ticks" class="section level3" number="7.3.2">
<h3>
<span class="header-section-number">7.3.2</span> ticks<a class="anchor" aria-label="anchor" href="#ticks"><i class="fas fa-link"></i></a>
</h3>
<p>grid被包括在ticks中</p>
<pre><code>#获取ticks在一条轴上的位置
ax.xaxis.get_ticklocs(minor=False)

#设置一条轴的位置 上下左右或者让ticks和轴消失，label不消失
ax.xaxis.set_ticks_position()#{'top', 'bottom', 'both', 'default', 'none'}

# 获取ticks的线条,并且设置格式
for line in ax.xaxis.get_ticklines(minor=False):
    # 调用y轴刻度线条实例, 是一个Line2D实例
    line.set_markeredgecolor('green')    # 颜色
    line.set_markersize(25)    # marker大小
    line.set_markeredgewidth(2)# marker粗细

#设置ticks的参数
ax.xaxis.set_tick_params(which="major",rotation=45)#left,right,labelleft,labelright,gridon
ax.tick_params(axis=,which=,rotation=)

#设置刻度规模
ax.set_yscale()#设置x轴的规模，也就是量级，比如"linear", "log", "symlog", "logit"
ax.set_xscale()
ax.autoscale_view()#自动调整比例
- `matplotlib.scale.LinearScale`
- `matplotlib.scale.LogScale`
- `matplotlib.scale.SymmetricalLogScale`
- `matplotlib.scale.LogitScale`
- `matplotlib.scale.FuncScale`

direction : {'in', 'out', 'inout'}
    Puts ticks inside the Axes, outside the Axes, or both.
length : float
    Tick length in points.
width : float
    Tick width in points.
color : color
    Tick color.
pad : float
    Distance in points between tick and label.
labelsize : float or str
    Tick label font size in points or as a string (e.g., 'large').
labelcolor : color
    Tick label color.
colors : color
    Tick color and label color.
zorder : float
    Tick and label zorder.
bottom, top, left, right : bool
    Whether to draw the respective ticks.
labelbottom, labeltop, labelleft, labelright : bool
    Whether to draw the respective tick labels.
labelrotation : float
    Tick label rotation
grid_color : color
    Gridline color.
grid_alpha : float
    Transparency of gridlines: 0 (transparent) to 1 (opaque).
grid_linewidth : float
    Width of gridlines in points.
grid_linestyle : str
    Any valid `.Line2D` line style spec.</code></pre>
</div>
<div id="ticks-formator" class="section level3" number="7.3.3">
<h3>
<span class="header-section-number">7.3.3</span> ticks-formator<a class="anchor" aria-label="anchor" href="#ticks-formator"><i class="fas fa-link"></i></a>
</h3>
<div class="inline-figure"><img src="static/image/%E5%8F%AF%E8%A7%86%E5%8C%96/format.png" width="95%" style="display: block; margin: auto;"></div>
</div>
<div id="ticks-locator" class="section level3" number="7.3.4">
<h3>
<span class="header-section-number">7.3.4</span> ticks-locator<a class="anchor" aria-label="anchor" href="#ticks-locator"><i class="fas fa-link"></i></a>
</h3>
<pre><code>locator=plt.MaxNLocator(nbins=7)#自动选择合适的位置，并且刻度之间最多不超过7（nbins）个间隔
locator=plt.FixedLocator(locs=[0,0.5,1.5,2.5,3.5,4.5,5.5,6])#直接指定刻度所在的位置  
locator=plt.AutoLocator()#自动分配刻度值的位置  
locator=plt.IndexLocator(offset=0.5, base=1)#面元间距是1，从0.5开始  
locator=plt.MultipleLocator(1.5)#将刻度的标签设置为1.5的倍数  
locator=plt.LinearLocator(numticks=5)#线性划分5等分，4个刻度  </code></pre>
</div>
<div id="pad" class="section level3" number="7.3.5">
<h3>
<span class="header-section-number">7.3.5</span> pad<a class="anchor" aria-label="anchor" href="#pad"><i class="fas fa-link"></i></a>
</h3>
<p>控制ticks与轴标签之间的距离</p>
<pre><code>ax.xaxis.labelpad = 5
ax.yaxis.labelpad = 5</code></pre>
</div>
<div id="spines" class="section level3" number="7.3.6">
<h3>
<span class="header-section-number">7.3.6</span> spines<a class="anchor" aria-label="anchor" href="#spines"><i class="fas fa-link"></i></a>
</h3>
<p>设置四个轴线</p>
<pre><code>ax.spines['left'].set_position('center')#set_position('center')将 x 和 y 轴放置在相应数据范围之间。 在这种情况下， y 轴上的数据范围是 -1 到 +1，所以中心点是 0，而 x 轴上的数据范围是 0 到 6，所以中心点是3。 因此，交点为(3, 0)。
ax.spines['right'].set_visible(False)#设置轴是否可见
ax.spines['top'].set_color('r')
ax.spines['top'].set_linewidth(1.7)
#关闭所有轴线
for spine in ax.spines.values():
    spine.set_visible(False)
    </code></pre>
</div>
<div id="轴范围" class="section level3" number="7.3.7">
<h3>
<span class="header-section-number">7.3.7</span> 轴范围<a class="anchor" aria-label="anchor" href="#%E8%BD%B4%E8%8C%83%E5%9B%B4"><i class="fas fa-link"></i></a>
</h3>
<pre><code>ax.set_[xy]lim()#设置轴范围
ax.xaxis.get_data_interval()# 获取轴刻度范围</code></pre>
</div>
<div id="调整多图间距" class="section level3" number="7.3.8">
<h3>
<span class="header-section-number">7.3.8</span> 调整多图间距<a class="anchor" aria-label="anchor" href="#%E8%B0%83%E6%95%B4%E5%A4%9A%E5%9B%BE%E9%97%B4%E8%B7%9D"><i class="fas fa-link"></i></a>
</h3>
<div class="inline-figure"><img src="static/image/%E5%8F%AF%E8%A7%86%E5%8C%96/adjust.png" width="95%" style="display: block; margin: auto;"></div>
<p>也可以在最后加上fig.tight_layout(),会默认起到优化作用</p>
</div>
</div>
<div id="图例" class="section level2" number="7.4">
<h2>
<span class="header-section-number">7.4</span> 图例<a class="anchor" aria-label="anchor" href="#%E5%9B%BE%E4%BE%8B"><i class="fas fa-link"></i></a>
</h2>
<div class="inline-figure"><img src="static/image/%E5%8F%AF%E8%A7%86%E5%8C%96/legend.png" width="95%" style="display: block; margin: auto;"></div>
<div id="图例样式设置" class="section level3 tabset" number="7.4.1">
<h3>
<span class="header-section-number">7.4.1</span> 图例样式设置<a class="anchor" aria-label="anchor" href="#%E5%9B%BE%E4%BE%8B%E6%A0%B7%E5%BC%8F%E8%AE%BE%E7%BD%AE"><i class="fas fa-link"></i></a>
</h3>
<div id="主要参数" class="section level4" number="7.4.1.1">
<h4>
<span class="header-section-number">7.4.1.1</span> 主要参数<a class="anchor" aria-label="anchor" href="#%E4%B8%BB%E8%A6%81%E5%8F%82%E6%95%B0"><i class="fas fa-link"></i></a>
</h4>
<pre><code>handles : sequence of `.Artist`, optional
A list of Artists (lines, patches) to be added to the legend.
Use this together with *labels*, if you need full control on what
is shown in the legend and the automatic mechanism described above
is not sufficient.

The length of handles and labels should be the same in this
case. If they are not, they are truncated to the smaller length.

labels : list of str, optional
A list of labels to show next to the artists.
Use this together with *handles*, if you need full control on what
is shown in the legend and the automatic mechanism described above
is not sufficient.

bbox_to_anchor : `.BboxBase`, 2-tuple, or 4-tuple of floats
Box that is used to position the legend in conjunction with *loc*.
Defaults to `axes.bbox` (if called as a method to `.Axes.legend`) or
`figure.bbox` (if `.Figure.legend`).  This argument allows arbitrary
placement of the legend.

Bbox coordinates are interpreted in the coordinate system given by
*bbox_transform*, with the default transform
Axes or Figure coordinates, depending on which ``legend`` is called.

If a 4-tuple or `.BboxBase` is given, then it specifies the bbox
``(x, y, width, height)`` that the legend is placed in.
To put the legend in the best location in the bottom right
quadrant of the axes (or figure)::

    loc='best', bbox_to_anchor=(0.5, 0., 0.5, 0.5)

A 2-tuple ``(x, y)`` places the corner of the legend specified by *loc* at
x, y.  For example, to put the legend's upper right-hand corner in the
center of the axes (or figure) the following keywords can be used::

    loc='upper right', bbox_to_anchor=(0.5, 0.5)</code></pre>
<p>ncols : int, default: 1
The number of columns that the legend has.</p>
</div>
<div id="其他参数" class="section level4" number="7.4.1.2">
<h4>
<span class="header-section-number">7.4.1.2</span> 其他参数<a class="anchor" aria-label="anchor" href="#%E5%85%B6%E4%BB%96%E5%8F%82%E6%95%B0"><i class="fas fa-link"></i></a>
</h4>
<pre><code>For backward compatibility, the spelling *ncol* is also supported
but it is discouraged. If both are given, *ncols* takes precedence.

loc : str or pair of floats, default: :rc:`legend.loc`
  The location of the legend.

  The strings
  ``'upper left', 'upper right', 'lower left', 'lower right'``
  place the legend at the corresponding corner of the axes/figure.

  The strings
  ``'upper center', 'lower center', 'center left', 'center right'``
  place the legend at the center of the corresponding edge of the
  axes/figure.

  The string ``'center'`` places the legend at the center of the axes/figure.

  The string ``'best'`` places the legend at the location, among the nine
  locations defined so far, with the minimum overlap with other drawn
  artists.  This option can be quite slow for plots with large amounts of
  data; your plotting speed may benefit from providing a specific location.

  The location can also be a 2-tuple giving the coordinates of the lower-left
  corner of the legend in axes coordinates (in which case *bbox_to_anchor*
  will be ignored).

  For back-compatibility, ``'center right'`` (but no other location) can also
  be spelled ``'right'``, and each "string" locations can also be given as a
  numeric value:

      ===============   =============
      Location String   Location Code
      ===============   =============
      'best'            0
      'upper right'     1
      'upper left'      2
      'lower left'      3
      'lower right'     4
      'right'           5
      'center left'     6
      'center right'    7
      'lower center'    8
      'upper center'    9
      'center'          10
      ===============   =============

prop : None or `matplotlib.font_manager.FontProperties` or dict
  The font properties of the legend. If None (default), the current
  :data:`matplotlib.rcParams` will be used.

fontsize : int or {'xx-small', 'x-small', 'small', 'medium', 'large', 'x-large', 'xx-large'}
  The font size of the legend. If the value is numeric the size will be the
  absolute font size in points. String values are relative to the current
  default font size. This argument is only used if *prop* is not specified.

labelcolor : str or list, default: :rc:`legend.labelcolor`
  The color of the text in the legend. Either a valid color string
  (for example, 'red'), or a list of color strings. The labelcolor can
  also be made to match the color of the line or marker using 'linecolor',
  'markerfacecolor' (or 'mfc'), or 'markeredgecolor' (or 'mec').

  Labelcolor can be set globally using :rc:`legend.labelcolor`. If None,
  use :rc:`text.color`.

numpoints : int, default: :rc:`legend.numpoints`
  The number of marker points in the legend when creating a legend
  entry for a `.Line2D` (line).

scatterpoints : int, default: :rc:`legend.scatterpoints`
  The number of marker points in the legend when creating
  a legend entry for a `.PathCollection` (scatter plot).

scatteryoffsets : iterable of floats, default: ``[0.375, 0.5, 0.3125]``
  The vertical offset (relative to the font size) for the markers
  created for a scatter plot legend entry. 0.0 is at the base the
  legend text, and 1.0 is at the top. To draw all markers at the
  same height, set to ``[0.5]``.

markerscale : float, default: :rc:`legend.markerscale`
  The relative size of legend markers compared with the originally
  drawn ones.

markerfirst : bool, default: True
  If *True*, legend marker is placed to the left of the legend label.
  If *False*, legend marker is placed to the right of the legend label.

reverse : bool, default: False
  If *True*, the legend labels are displayed in reverse order from the input.
  If *False*, the legend labels are displayed in the same order as the input.

  .. versionadded:: 3.7

frameon : bool, default: :rc:`legend.frameon`
  Whether the legend should be drawn on a patch (frame).

fancybox : bool, default: :rc:`legend.fancybox`
  Whether round edges should be enabled around the `.FancyBboxPatch` which
  makes up the legend's background.

shadow : bool, default: :rc:`legend.shadow`
  Whether to draw a shadow behind the legend.

framealpha : float, default: :rc:`legend.framealpha`
  The alpha transparency of the legend's background.
  If *shadow* is activated and *framealpha* is ``None``, the default value is
  ignored.

facecolor : "inherit" or color, default: :rc:`legend.facecolor`
  The legend's background color.
  If ``"inherit"``, use :rc:`axes.facecolor`.

edgecolor : "inherit" or color, default: :rc:`legend.edgecolor`
  The legend's background patch edge color.
  If ``"inherit"``, use take :rc:`axes.edgecolor`.

mode : {"expand", None}
  If *mode* is set to ``"expand"`` the legend will be horizontally
  expanded to fill the axes area (or *bbox_to_anchor* if defines
  the legend's size).

bbox_transform : None or `matplotlib.transforms.Transform`
  The transform for the bounding box (*bbox_to_anchor*). For a value
  of ``None`` (default) the Axes'
  :data:`~matplotlib.axes.Axes.transAxes` transform will be used.

title : str or None
  The legend's title. Default is no title (``None``).

title_fontproperties : None or `matplotlib.font_manager.FontProperties` or dict
  The font properties of the legend's title. If None (default), the
  *title_fontsize* argument will be used if present; if *title_fontsize* is
  also None, the current :rc:`legend.title_fontsize` will be used.

title_fontsize : int or {'xx-small', 'x-small', 'small', 'medium', 'large', 'x-large', 'xx-large'}, default: :rc:`legend.title_fontsize`
  The font size of the legend's title.
  Note: This cannot be combined with *title_fontproperties*. If you want
  to set the fontsize alongside other font properties, use the *size*
  parameter in *title_fontproperties*.

alignment : {'center', 'left', 'right'}, default: 'center'
  The alignment of the legend title and the box of entries. The entries
  are aligned as a single block, so that markers always lined up.

borderpad : float, default: :rc:`legend.borderpad`
  The fractional whitespace inside the legend border, in font-size units.

labelspacing : float, default: :rc:`legend.labelspacing`
  The vertical space between the legend entries, in font-size units.

handlelength : float, default: :rc:`legend.handlelength`
  The length of the legend handles, in font-size units.

handleheight : float, default: :rc:`legend.handleheight`
  The height of the legend handles, in font-size units.

handletextpad : float, default: :rc:`legend.handletextpad`
  The pad between the legend handle and text, in font-size units.

borderaxespad : float, default: :rc:`legend.borderaxespad`
  The pad between the axes and legend border, in font-size units.

columnspacing : float, default: :rc:`legend.columnspacing`
  The spacing between columns, in font-size units.

handler_map : dict or None
  The custom dictionary mapping instances or types to a legend
  handler. This *handler_map* updates the default handler map
  found at `matplotlib.legend.Legend.get_legend_handler_map`.

draggable : bool, default: False
  Whether the legend can be dragged with the mouse.</code></pre>
</div>
</div>
<div id="双轴或者多图" class="section level3" number="7.4.2">
<h3>
<span class="header-section-number">7.4.2</span> 双轴或者多图<a class="anchor" aria-label="anchor" href="#%E5%8F%8C%E8%BD%B4%E6%88%96%E8%80%85%E5%A4%9A%E5%9B%BE"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb457"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb457-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb457-1" tabindex="-1"></a>fig1 <span class="op">=</span> plt.figure()</span>
<span id="cb457-2"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb457-2" tabindex="-1"></a>ax1 <span class="op">=</span> fig1.add_subplot(<span class="dv">111</span>)</span>
<span id="cb457-3"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb457-3" tabindex="-1"></a>ax2 <span class="op">=</span> ax1.twinx()</span>
<span id="cb457-4"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb457-4" tabindex="-1"></a>legend_1 <span class="op">=</span> ax1.bar(<span class="bu">list</span>(<span class="st">"abc"</span>),[<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>],width<span class="op">=</span><span class="fl">0.6</span>,color<span class="op">=</span><span class="st">"red"</span>)</span>
<span id="cb457-5"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb457-5" tabindex="-1"></a>legend_2 <span class="op">=</span> ax2.bar(<span class="bu">list</span>(<span class="st">"abc"</span>),[<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>],width<span class="op">=</span><span class="fl">0.5</span>)</span>
<span id="cb457-6"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb457-6" tabindex="-1"></a>ax1.legend(handles<span class="op">=</span>[legend_1,legend_2],labels<span class="op">=</span>[<span class="st">"a"</span>,<span class="st">"b"</span>])</span>
<span id="cb457-7"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb457-7" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="inline-figure"><img src="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B_files/figure-html/double-axis-1.png" width="95%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb458"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb458-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb458-1" tabindex="-1"></a>plt.close()</span></code></pre></div>
</div>
<div id="自定义图例" class="section level3" number="7.4.3">
<h3>
<span class="header-section-number">7.4.3</span> 自定义图例<a class="anchor" aria-label="anchor" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9B%BE%E4%BE%8B"><i class="fas fa-link"></i></a>
</h3>
<p><code>from matplotlib.legend_handler import</code></p>
<div id="创造" class="section level4" number="7.4.3.1">
<h4>
<span class="header-section-number">7.4.3.1</span> 创造<a class="anchor" aria-label="anchor" href="#%E5%88%9B%E9%80%A0"><i class="fas fa-link"></i></a>
</h4>
<p>自定义用于图例显示的图形<code>import matplotlib.patches as mpatches</code></p>
<div class="sourceCode" id="cb459"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb459-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb459-1" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb459-2"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb459-2" tabindex="-1"></a>red_patch <span class="op">=</span> mpatches.Patch(color<span class="op">=</span><span class="st">'red'</span>, label<span class="op">=</span><span class="st">'The red data'</span>)</span>
<span id="cb459-3"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb459-3" tabindex="-1"></a>blue_line <span class="op">=</span> mlines.Line2D([], [], color<span class="op">=</span><span class="st">'blue'</span>, marker<span class="op">=</span><span class="st">'*'</span>,</span>
<span id="cb459-4"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb459-4" tabindex="-1"></a>                          markersize<span class="op">=</span><span class="dv">15</span>, label<span class="op">=</span><span class="st">'Blue stars'</span>)</span>
<span id="cb459-5"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb459-5" tabindex="-1"></a>ax.legend(handles<span class="op">=</span>[red_patch,blue_line])</span>
<span id="cb459-6"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb459-6" tabindex="-1"></a></span>
<span id="cb459-7"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb459-7" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="inline-figure"><img src="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B_files/figure-html/create-legend-3.png" width="95%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb460"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb460-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb460-1" tabindex="-1"></a>plt.close()</span></code></pre></div>
</div>
<div id="分组" class="section level4" number="7.4.3.2">
<h4>
<span class="header-section-number">7.4.3.2</span> 分组<a class="anchor" aria-label="anchor" href="#%E5%88%86%E7%BB%84"><i class="fas fa-link"></i></a>
</h4>
<p>将某几个图例分为一组,同代表某一类,默认一个tuple内的叠加显示。</p>
<div class="sourceCode" id="cb461"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb461-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb461-1" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb461-2"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb461-2" tabindex="-1"></a>p1, <span class="op">=</span> ax.plot([<span class="dv">1</span>, <span class="fl">2.5</span>, <span class="dv">3</span>], <span class="st">'r-d'</span>)</span>
<span id="cb461-3"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb461-3" tabindex="-1"></a>p2, <span class="op">=</span> ax.plot([<span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">1</span>], <span class="st">'k-o'</span>)</span>
<span id="cb461-4"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb461-4" tabindex="-1"></a>l <span class="op">=</span> ax.legend([(p1, p2)], [<span class="st">'Two keys'</span>], numpoints<span class="op">=</span><span class="dv">1</span>,</span>
<span id="cb461-5"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb461-5" tabindex="-1"></a>              handler_map<span class="op">=</span>{<span class="bu">tuple</span>: HandlerTuple(ndivide<span class="op">=</span><span class="va">None</span>)})</span>
<span id="cb461-6"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb461-6" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="inline-figure"><img src="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B_files/figure-html/groupby-legend-5.png" width="95%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb462"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb462-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb462-1" tabindex="-1"></a>plt.close()</span></code></pre></div>
</div>
<div id="分离" class="section level4" number="7.4.3.3">
<h4>
<span class="header-section-number">7.4.3.3</span> 分离<a class="anchor" aria-label="anchor" href="#%E5%88%86%E7%A6%BB"><i class="fas fa-link"></i></a>
</h4>
<p>即在一个axes上显示多个图例,legend可以多次调用</p>
<div class="sourceCode" id="cb463"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb463-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb463-1" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb463-2"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb463-2" tabindex="-1"></a>line1, <span class="op">=</span> ax.plot([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>], label<span class="op">=</span><span class="st">"Line 1"</span>, linestyle<span class="op">=</span><span class="st">'--'</span>)</span>
<span id="cb463-3"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb463-3" tabindex="-1"></a>line2, <span class="op">=</span> ax.plot([<span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">1</span>], label<span class="op">=</span><span class="st">"Line 2"</span>, linewidth<span class="op">=</span><span class="dv">4</span>)</span>
<span id="cb463-4"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb463-4" tabindex="-1"></a></span>
<span id="cb463-5"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb463-5" tabindex="-1"></a><span class="co"># Create a legend for the first line.</span></span>
<span id="cb463-6"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb463-6" tabindex="-1"></a>first_legend <span class="op">=</span> ax.legend(handles<span class="op">=</span>[line1], loc<span class="op">=</span><span class="st">'upper right'</span>)</span>
<span id="cb463-7"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb463-7" tabindex="-1"></a></span>
<span id="cb463-8"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb463-8" tabindex="-1"></a><span class="co"># Add the legend manually to the Axes.</span></span>
<span id="cb463-9"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb463-9" tabindex="-1"></a>ax.add_artist(first_legend)</span>
<span id="cb463-10"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb463-10" tabindex="-1"></a></span>
<span id="cb463-11"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb463-11" tabindex="-1"></a><span class="co"># Create another legend for the second line.</span></span>
<span id="cb463-12"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb463-12" tabindex="-1"></a>ax.legend(handles<span class="op">=</span>[line2], loc<span class="op">=</span><span class="st">'lower right'</span>)</span>
<span id="cb463-13"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb463-13" tabindex="-1"></a></span>
<span id="cb463-14"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb463-14" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="inline-figure"><img src="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B_files/figure-html/multi-legend-7.png" width="95%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb464"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb464-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb464-1" tabindex="-1"></a>plt.close()</span></code></pre></div>
</div>
<div id="叠加" class="section level4" number="7.4.3.4">
<h4>
<span class="header-section-number">7.4.3.4</span> 叠加<a class="anchor" aria-label="anchor" href="#%E5%8F%A0%E5%8A%A0"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb465"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb465-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb465-1" tabindex="-1"></a>z <span class="op">=</span> randn(<span class="dv">10</span>)</span>
<span id="cb465-2"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb465-2" tabindex="-1"></a></span>
<span id="cb465-3"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb465-3" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb465-4"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb465-4" tabindex="-1"></a>red_dot, <span class="op">=</span> ax.plot(z, <span class="st">"ro"</span>, markersize<span class="op">=</span><span class="dv">15</span>)</span>
<span id="cb465-5"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb465-5" tabindex="-1"></a><span class="co"># Put a white cross over some of the data.</span></span>
<span id="cb465-6"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb465-6" tabindex="-1"></a>white_cross, <span class="op">=</span> ax.plot(z[:<span class="dv">5</span>], <span class="st">"w+"</span>, markeredgewidth<span class="op">=</span><span class="dv">3</span>, markersize<span class="op">=</span><span class="dv">15</span>)</span>
<span id="cb465-7"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb465-7" tabindex="-1"></a></span>
<span id="cb465-8"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb465-8" tabindex="-1"></a>ax.legend([red_dot, (red_dot, white_cross)], [<span class="st">"Attr A"</span>, <span class="st">"Attr A+B"</span>])</span>
<span id="cb465-9"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb465-9" tabindex="-1"></a></span>
<span id="cb465-10"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb465-10" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="inline-figure"><img src="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B_files/figure-html/add-9.png" width="95%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb466"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb466-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb466-1" tabindex="-1"></a>plt.close()</span></code></pre></div>
</div>
<div id="位置" class="section level4" number="7.4.3.5">
<h4>
<span class="header-section-number">7.4.3.5</span> 位置<a class="anchor" aria-label="anchor" href="#%E4%BD%8D%E7%BD%AE"><i class="fas fa-link"></i></a>
</h4>
<ul>
<li>用<code>bbox_to_anchor</code>参数</li>
</ul>
<div class="sourceCode" id="cb467"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb467-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb467-1" tabindex="-1"></a>fig,ax <span class="op">=</span> plt.subplots(<span class="dv">1</span>,<span class="dv">1</span>,figsize<span class="op">=</span>(<span class="dv">8</span>,<span class="dv">8</span>))</span>
<span id="cb467-2"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb467-2" tabindex="-1"></a>l1<span class="op">=</span>ax.bar(<span class="bu">list</span>(<span class="st">"abc"</span>),[<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>],label<span class="op">=</span><span class="st">"a"</span>)</span>
<span id="cb467-3"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb467-3" tabindex="-1"></a>l2<span class="op">=</span>ax.bar(<span class="bu">list</span>(<span class="st">"abc"</span>),[<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>],label<span class="op">=</span><span class="st">"b"</span>)</span>
<span id="cb467-4"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb467-4" tabindex="-1"></a>z <span class="op">=</span> ax.legend(handles<span class="op">=</span>[l1,l2],bbox_to_anchor<span class="op">=</span>(<span class="dv">1</span>,<span class="fl">1.1</span>),ncols<span class="op">=</span><span class="dv">2</span>,loc<span class="op">=</span><span class="st">"best"</span>,handleheight<span class="op">=</span><span class="dv">4</span>,handlelength<span class="op">=</span><span class="dv">4</span>)</span>
<span id="cb467-5"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb467-5" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> z.get_patches():</span>
<span id="cb467-6"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb467-6" tabindex="-1"></a>    i.set_height(<span class="dv">30</span>)</span>
<span id="cb467-7"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb467-7" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="inline-figure"><img src="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B_files/figure-html/set_location-11.png" width="95%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb468"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb468-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb468-1" tabindex="-1"></a>plt.close()</span></code></pre></div>
<ul>
<li>用loc</li>
</ul>
<div class="sourceCode" id="cb469"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb469-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb469-1" tabindex="-1"></a>ucl <span class="op">=</span> [<span class="st">'upper'</span>, <span class="st">'center'</span>, <span class="st">'lower'</span>]</span>
<span id="cb469-2"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb469-2" tabindex="-1"></a>lcr <span class="op">=</span> [<span class="st">'left'</span>, <span class="st">'center'</span>, <span class="st">'right'</span>]</span>
<span id="cb469-3"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb469-3" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">6</span>, <span class="dv">4</span>), layout<span class="op">=</span><span class="st">'constrained'</span>, facecolor<span class="op">=</span><span class="st">'0.7'</span>)</span>
<span id="cb469-4"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb469-4" tabindex="-1"></a></span>
<span id="cb469-5"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb469-5" tabindex="-1"></a>ax.plot([<span class="dv">1</span>, <span class="dv">2</span>], [<span class="dv">1</span>, <span class="dv">2</span>], label<span class="op">=</span><span class="st">'TEST'</span>)</span>
<span id="cb469-6"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb469-6" tabindex="-1"></a><span class="co"># Place a legend to the right of this smaller subplot.</span></span>
<span id="cb469-7"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb469-7" tabindex="-1"></a><span class="cf">for</span> loc <span class="kw">in</span> [</span>
<span id="cb469-8"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb469-8" tabindex="-1"></a>        <span class="st">'outside upper left'</span>,</span>
<span id="cb469-9"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb469-9" tabindex="-1"></a>        <span class="st">'outside upper center'</span>,</span>
<span id="cb469-10"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb469-10" tabindex="-1"></a>        <span class="st">'outside upper right'</span>,</span>
<span id="cb469-11"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb469-11" tabindex="-1"></a>        <span class="st">'outside lower left'</span>,</span>
<span id="cb469-12"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb469-12" tabindex="-1"></a>        <span class="st">'outside lower center'</span>,</span>
<span id="cb469-13"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb469-13" tabindex="-1"></a>        <span class="st">'outside lower right'</span>]:</span>
<span id="cb469-14"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb469-14" tabindex="-1"></a>    t <span class="op">=</span> fig.legend(loc<span class="op">=</span>loc, title<span class="op">=</span>loc)</span>
<span id="cb469-15"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb469-15" tabindex="-1"></a></span>
<span id="cb469-16"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb469-16" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">6</span>, <span class="dv">4</span>), layout<span class="op">=</span><span class="st">'constrained'</span>, facecolor<span class="op">=</span><span class="st">'0.7'</span>)</span>
<span id="cb469-17"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb469-17" tabindex="-1"></a>ax.plot([<span class="dv">1</span>, <span class="dv">2</span>], [<span class="dv">1</span>, <span class="dv">2</span>], label<span class="op">=</span><span class="st">'test'</span>)</span>
<span id="cb469-18"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb469-18" tabindex="-1"></a></span>
<span id="cb469-19"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb469-19" tabindex="-1"></a><span class="cf">for</span> loc <span class="kw">in</span> [</span>
<span id="cb469-20"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb469-20" tabindex="-1"></a>        <span class="st">'outside left upper'</span>,</span>
<span id="cb469-21"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb469-21" tabindex="-1"></a>        <span class="st">'outside right upper'</span>,</span>
<span id="cb469-22"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb469-22" tabindex="-1"></a>        <span class="st">'outside left lower'</span>,</span>
<span id="cb469-23"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb469-23" tabindex="-1"></a>        <span class="st">'outside right lower'</span>]:</span>
<span id="cb469-24"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb469-24" tabindex="-1"></a>    t <span class="op">=</span> fig.legend(loc<span class="op">=</span>loc, title<span class="op">=</span>loc)</span>
<span id="cb469-25"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb469-25" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="inline-figure"><img src="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B_files/figure-html/legend-loc-13.png" width="95%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb470"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb470-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb470-1" tabindex="-1"></a>plt.close()</span></code></pre></div>
</div>
</div>
<div id="颜色" class="section level3 tabset" number="7.4.4">
<h3>
<span class="header-section-number">7.4.4</span> 颜色<a class="anchor" aria-label="anchor" href="#%E9%A2%9C%E8%89%B2"><i class="fas fa-link"></i></a>
</h3>
<div id="colormap" class="section level4" number="7.4.4.1">
<h4>
<span class="header-section-number">7.4.4.1</span> colormap<a class="anchor" aria-label="anchor" href="#colormap"><i class="fas fa-link"></i></a>
</h4>
<p>可以指定colormap参数，则默认颜色会从该颜色表中选取</p>
</div>
<div id="colorscmap" class="section level4" number="7.4.4.2">
<h4>
<span class="header-section-number">7.4.4.2</span> colors+cmap<a class="anchor" aria-label="anchor" href="#colorscmap"><i class="fas fa-link"></i></a>
</h4>
<p>colors指定数值序列，cmap指定颜色表建立颜色关系,cmap=mapl.cm.颜色表名</p>
</div>
<div id="plt.cm.表名" class="section level4" number="7.4.4.3">
<h4>
<span class="header-section-number">7.4.4.3</span> plt.cm.表名<a class="anchor" aria-label="anchor" href="#plt.cm.%E8%A1%A8%E5%90%8D"><i class="fas fa-link"></i></a>
</h4>
<p>plt.cm.颜色表名(数值序列),可以直接选定n种颜色</p>
<p>使用colors</p>
</div>
</div>
</div>
<div id="柱形图条形图" class="section level2" number="7.5">
<h2>
<span class="header-section-number">7.5</span> 柱形图/条形图<a class="anchor" aria-label="anchor" href="#%E6%9F%B1%E5%BD%A2%E5%9B%BE%E6%9D%A1%E5%BD%A2%E5%9B%BE"><i class="fas fa-link"></i></a>
</h2>
<div id="基本柱形图" class="section level3 tabset" number="7.5.1">
<h3>
<span class="header-section-number">7.5.1</span> 基本柱形图<a class="anchor" aria-label="anchor" href="#%E5%9F%BA%E6%9C%AC%E6%9F%B1%E5%BD%A2%E5%9B%BE"><i class="fas fa-link"></i></a>
</h3>
<div id="简单示例" class="section level4" number="7.5.1.1">
<h4>
<span class="header-section-number">7.5.1.1</span> 简单示例<a class="anchor" aria-label="anchor" href="#%E7%AE%80%E5%8D%95%E7%A4%BA%E4%BE%8B"><i class="fas fa-link"></i></a>
</h4>
<p>可以展示一个种类的各个数值，适用与分类数据</p>
<div class="sourceCode" id="cb471"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb471-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb471-1" tabindex="-1"></a><span class="co"># 展示某一次考试某位学生的各科成绩柱形图</span></span>
<span id="cb471-2"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb471-2" tabindex="-1"></a>sub_score <span class="op">=</span> chengji[(chengji.mes_StudentID <span class="op">==</span> <span class="dv">13539</span>) <span class="op">&amp;</span> (chengji.exam_number <span class="op">==</span> <span class="dv">282</span>)][[<span class="st">"mes_sub_name"</span>,<span class="st">"mes_Score"</span>]].query(<span class="st">"mes_Score&gt;0"</span>)</span>
<span id="cb471-3"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb471-3" tabindex="-1"></a>con <span class="op">=</span> plt.bar(<span class="st">"mes_sub_name"</span>,<span class="st">"mes_Score"</span>,data<span class="op">=</span>sub_score)</span>
<span id="cb471-4"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb471-4" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="inline-figure"><img src="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B_files/figure-html/basic-chart-15.png" width="95%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb472"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb472-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb472-1" tabindex="-1"></a>plt.close()</span></code></pre></div>
</div>
<div id="调优" class="section level4" number="7.5.1.2">
<h4>
<span class="header-section-number">7.5.1.2</span> 调优<a class="anchor" aria-label="anchor" href="#%E8%B0%83%E4%BC%98"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb473"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb473-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb473-1" tabindex="-1"></a>fig <span class="op">=</span> plt.figure(figsize<span class="op">=</span>(<span class="fl">4.8</span>,<span class="dv">5</span>))</span>
<span id="cb473-2"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb473-2" tabindex="-1"></a>ax <span class="op">=</span> fig.add_subplot(<span class="dv">111</span>)</span>
<span id="cb473-3"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb473-3" tabindex="-1"></a><span class="co">#返回barcontainer</span></span>
<span id="cb473-4"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb473-4" tabindex="-1"></a>bc <span class="op">=</span> plt.bar(</span>
<span id="cb473-5"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb473-5" tabindex="-1"></a>    <span class="st">"mes_sub_name"</span>,</span>
<span id="cb473-6"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb473-6" tabindex="-1"></a>    <span class="st">"mes_Score"</span>,</span>
<span id="cb473-7"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb473-7" tabindex="-1"></a>    width<span class="op">=</span><span class="fl">0.6</span>,</span>
<span id="cb473-8"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb473-8" tabindex="-1"></a>    data<span class="op">=</span>sub_score</span>
<span id="cb473-9"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb473-9" tabindex="-1"></a>)</span>
<span id="cb473-10"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb473-10" tabindex="-1"></a></span>
<span id="cb473-11"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb473-11" tabindex="-1"></a><span class="co"># 轴和刻度设置</span></span>
<span id="cb473-12"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb473-12" tabindex="-1"></a><span class="cf">for</span> spine <span class="kw">in</span> ax.spines.values():</span>
<span id="cb473-13"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb473-13" tabindex="-1"></a>    spine.set_visible(<span class="va">False</span>)</span>
<span id="cb473-14"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb473-14" tabindex="-1"></a>ax.xaxis.set_ticks_position(<span class="st">"none"</span>)</span>
<span id="cb473-15"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb473-15" tabindex="-1"></a><span class="co">#ax.yaxis.grid(True)</span></span>
<span id="cb473-16"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb473-16" tabindex="-1"></a></span>
<span id="cb473-17"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb473-17" tabindex="-1"></a><span class="co"># 在正上方添加数值标签</span></span>
<span id="cb473-18"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb473-18" tabindex="-1"></a><span class="cf">for</span> bar <span class="kw">in</span> ax.patches:</span>
<span id="cb473-19"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb473-19" tabindex="-1"></a>    t <span class="op">=</span> ax.text(bar.get_x()<span class="op">+</span><span class="dv">1</span><span class="op">/</span><span class="dv">2</span><span class="op">*</span>bar.get_width(),bar.get_height(),bar.get_height(),ha<span class="op">=</span><span class="st">"center"</span>,va<span class="op">=</span><span class="st">"bottom"</span>)</span>
<span id="cb473-20"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb473-20" tabindex="-1"></a></span>
<span id="cb473-21"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb473-21" tabindex="-1"></a><span class="co"># 设置第一个bar为红色</span></span>
<span id="cb473-22"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb473-22" tabindex="-1"></a>bc.patches[<span class="dv">0</span>].set_facecolor(<span class="st">"red"</span>)</span>
<span id="cb473-23"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb473-23" tabindex="-1"></a></span>
<span id="cb473-24"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb473-24" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="inline-figure"><img src="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B_files/figure-html/basic-chart-opt-17.png" width="95%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb474"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb474-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb474-1" tabindex="-1"></a>plt.close()</span></code></pre></div>
</div>
</div>
<div id="排列柱形图" class="section level3" number="7.5.2">
<h3>
<span class="header-section-number">7.5.2</span> 排列柱形图<a class="anchor" aria-label="anchor" href="#%E6%8E%92%E5%88%97%E6%9F%B1%E5%BD%A2%E5%9B%BE"><i class="fas fa-link"></i></a>
</h3>
<p>比较两位同学同一次考试的各科成绩</p>
<div class="sourceCode" id="cb475"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb475-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb475-1" tabindex="-1"></a>two_student_score <span class="op">=</span> chengji.query(<span class="st">"mes_StudentID == [13539,13548] &amp; exam_number == 284"</span>)[[<span class="st">"mes_StudentID"</span>,<span class="st">"mes_sub_name"</span>,<span class="st">"mes_Score"</span>]]</span>
<span id="cb475-2"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb475-2" tabindex="-1"></a>two_student_score</span></code></pre></div>
<pre class="scroll-200"><code>       mes_StudentID mes_sub_name  mes_Score
25373          13539           语文       53.0
25374          13548           语文       81.0
26481          13539           数学       50.0
26482          13548           数学       63.0</code></pre>
<div class="sourceCode" id="cb477"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb477-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb477-1" tabindex="-1"></a>fig,ax <span class="op">=</span> plt.subplots(<span class="dv">1</span>,<span class="dv">1</span>)</span>
<span id="cb477-2"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb477-2" tabindex="-1"></a>ax1 <span class="op">=</span> two_student_score.pivot(index<span class="op">=</span><span class="st">"mes_sub_name"</span>,columns<span class="op">=</span><span class="st">"mes_StudentID"</span>,values<span class="op">=</span><span class="st">"mes_Score"</span>).plot(kind<span class="op">=</span><span class="st">"bar"</span>,ax<span class="op">=</span>ax)</span>
<span id="cb477-3"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb477-3" tabindex="-1"></a><span class="cf">for</span> bar <span class="kw">in</span> ax.patches:</span>
<span id="cb477-4"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb477-4" tabindex="-1"></a>    t <span class="op">=</span> ax.text(bar.get_x()<span class="op">+</span><span class="dv">1</span><span class="op">/</span><span class="dv">2</span><span class="op">*</span>bar.get_width(),bar.get_height(),bar.get_height(),ha<span class="op">=</span><span class="st">"center"</span>,va<span class="op">=</span><span class="st">"bottom"</span>)</span>
<span id="cb477-5"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb477-5" tabindex="-1"></a>ax.xaxis.set_tick_params(rotation<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb477-6"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb477-6" tabindex="-1"></a>t <span class="op">=</span> ax.set_xlabel(<span class="st">'学科'</span>)</span>
<span id="cb477-7"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb477-7" tabindex="-1"></a>t <span class="op">=</span> ax.set_ylabel(<span class="st">'成绩'</span>)</span>
<span id="cb477-8"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb477-8" tabindex="-1"></a>t <span class="op">=</span> ax.legend(title<span class="op">=</span><span class="st">"学生"</span>)</span>
<span id="cb477-9"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb477-9" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="inline-figure"><img src="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B_files/figure-html/range-bar-19.png" width="95%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb478"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb478-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb478-1" tabindex="-1"></a>plt.close()</span></code></pre></div>
<div class="sourceCode" id="cb479"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb479-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb479-1" tabindex="-1"></a>fig,ax <span class="op">=</span> plt.subplots(<span class="dv">1</span>,<span class="dv">1</span>)</span>
<span id="cb479-2"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb479-2" tabindex="-1"></a>ax1 <span class="op">=</span> sns.barplot(data<span class="op">=</span>two_student_score,x<span class="op">=</span><span class="st">"mes_sub_name"</span>,y<span class="op">=</span><span class="st">"mes_Score"</span>,hue<span class="op">=</span><span class="st">"mes_StudentID"</span>,ax<span class="op">=</span>ax)</span>
<span id="cb479-3"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb479-3" tabindex="-1"></a><span class="cf">for</span> bar <span class="kw">in</span> ax.patches:</span>
<span id="cb479-4"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb479-4" tabindex="-1"></a>    t <span class="op">=</span> ax.text(bar.get_x()<span class="op">+</span><span class="dv">1</span><span class="op">/</span><span class="dv">2</span><span class="op">*</span>bar.get_width(),bar.get_height(),bar.get_height(),ha<span class="op">=</span><span class="st">"center"</span>,va<span class="op">=</span><span class="st">"bottom"</span>)</span>
<span id="cb479-5"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb479-5" tabindex="-1"></a>ax.xaxis.set_tick_params(rotation<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb479-6"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb479-6" tabindex="-1"></a>t <span class="op">=</span> ax.set_xlabel(<span class="st">'学科'</span>)</span>
<span id="cb479-7"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb479-7" tabindex="-1"></a>t <span class="op">=</span> ax.set_ylabel(<span class="st">'成绩'</span>)</span>
<span id="cb479-8"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb479-8" tabindex="-1"></a>t <span class="op">=</span> ax.legend(title<span class="op">=</span><span class="st">"学生"</span>)</span>
<span id="cb479-9"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb479-9" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="inline-figure"><img src="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B_files/figure-html/sns-bar-21.png" width="95%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb480"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb480-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb480-1" tabindex="-1"></a>plt.close()</span></code></pre></div>
</div>
<div id="堆叠条形图" class="section level3" number="7.5.3">
<h3>
<span class="header-section-number">7.5.3</span> 堆叠条形图<a class="anchor" aria-label="anchor" href="#%E5%A0%86%E5%8F%A0%E6%9D%A1%E5%BD%A2%E5%9B%BE"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb481"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb481-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb481-1" tabindex="-1"></a><span class="co">#我们要计算各个学生的总成绩</span></span>
<span id="cb481-2"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb481-2" tabindex="-1"></a><span class="co">#横轴将变为学生，列将变成堆叠形式</span></span>
<span id="cb481-3"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb481-3" tabindex="-1"></a>fig,ax<span class="op">=</span>plt.subplots(<span class="dv">1</span>,<span class="dv">1</span>)</span>
<span id="cb481-4"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb481-4" tabindex="-1"></a>student_sum_grade<span class="op">=</span>two_student_score.pivot(index<span class="op">=</span><span class="st">"mes_StudentID"</span>,columns<span class="op">=</span><span class="st">"mes_sub_name"</span>,values<span class="op">=</span><span class="st">"mes_Score"</span>)</span>
<span id="cb481-5"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb481-5" tabindex="-1"></a>ax1 <span class="op">=</span> student_sum_grade.plot(kind<span class="op">=</span><span class="st">"bar"</span>,ax<span class="op">=</span>ax,stacked<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb481-6"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb481-6" tabindex="-1"></a><span class="co">#改成绘制在顶端,这里需要计算cumsum，并且按照列展开，所以需要先转置</span></span>
<span id="cb481-7"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb481-7" tabindex="-1"></a>cums <span class="op">=</span> student_sum_grade.<span class="bu">apply</span>(np.cumsum,axis<span class="op">=</span><span class="dv">1</span>).values.T.flatten()</span>
<span id="cb481-8"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb481-8" tabindex="-1"></a><span class="cf">for</span> bar,height <span class="kw">in</span> <span class="bu">zip</span>(ax.patches,cums):</span>
<span id="cb481-9"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb481-9" tabindex="-1"></a>    t <span class="op">=</span> ax.text(bar.get_x()<span class="op">+</span><span class="dv">1</span><span class="op">/</span><span class="dv">2</span><span class="op">*</span>bar.get_width(),height,bar.get_height(),ha<span class="op">=</span><span class="st">"center"</span>,va<span class="op">=</span><span class="st">"top"</span>)</span>
<span id="cb481-10"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb481-10" tabindex="-1"></a>ax.xaxis.set_tick_params(rotation<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb481-11"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb481-11" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="inline-figure"><img src="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B_files/figure-html/stack-bar-23.png" width="95%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb482"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb482-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb482-1" tabindex="-1"></a>plt.close()</span></code></pre></div>
</div>
<div id="双向条形图" class="section level3" number="7.5.4">
<h3>
<span class="header-section-number">7.5.4</span> 双向条形图<a class="anchor" aria-label="anchor" href="#%E5%8F%8C%E5%90%91%E6%9D%A1%E5%BD%A2%E5%9B%BE"><i class="fas fa-link"></i></a>
</h3>
<p>主要是bottom和left参数</p>
<div class="sourceCode" id="cb483"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb483-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb483-1" tabindex="-1"></a><span class="co">#设计90分为及格线,绘制出一个班级的学生的数学成绩</span></span>
<span id="cb483-2"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb483-2" tabindex="-1"></a>class_student_math <span class="op">=</span> pd.merge(student.query(<span class="st">"cla_id == 901"</span>),chengji.query(<span class="st">"exam_number == 284 &amp; mes_sub_name == '数学'"</span> ),</span>
<span id="cb483-3"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb483-3" tabindex="-1"></a>         how<span class="op">=</span><span class="st">"inner"</span>,left_on<span class="op">=</span><span class="st">"bf_StudentID"</span>,right_on<span class="op">=</span><span class="st">"mes_StudentID"</span>)[[<span class="st">"bf_Name"</span>,<span class="st">"mes_Score"</span>]].set_index(<span class="st">"bf_Name"</span>)</span>
<span id="cb483-4"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb483-4" tabindex="-1"></a>fig,ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">5</span>,<span class="dv">10</span>))</span>
<span id="cb483-5"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb483-5" tabindex="-1"></a><span class="co">#注意这里取序列求平均值</span></span>
<span id="cb483-6"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb483-6" tabindex="-1"></a>grade_mean <span class="op">=</span> <span class="bu">round</span>(class_student_math.mes_Score.mean(),<span class="dv">0</span>)</span>
<span id="cb483-7"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb483-7" tabindex="-1"></a>mean_student_math <span class="op">=</span> class_student_math <span class="op">-</span> grade_mean</span>
<span id="cb483-8"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb483-8" tabindex="-1"></a>ax1 <span class="op">=</span> mean_student_math.plot(kind<span class="op">=</span><span class="st">"barh"</span>,width<span class="op">=</span><span class="fl">0.5</span>,ax<span class="op">=</span>ax,left<span class="op">=</span>grade_mean)</span>
<span id="cb483-9"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb483-9" tabindex="-1"></a>ax.xaxis.set_ticks_position(<span class="st">"top"</span>)</span>
<span id="cb483-10"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb483-10" tabindex="-1"></a>ax.get_legend().set_visible(<span class="va">False</span>)</span>
<span id="cb483-11"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb483-11" tabindex="-1"></a>t <span class="op">=</span> ax.set_ylabel(<span class="st">""</span>)</span>
<span id="cb483-12"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb483-12" tabindex="-1"></a>t<span class="op">=</span> ax.set_xlim(<span class="dv">50</span>,<span class="dv">105</span>)</span>
<span id="cb483-13"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb483-13" tabindex="-1"></a><span class="cf">for</span> bar <span class="kw">in</span> ax.patches:</span>
<span id="cb483-14"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb483-14" tabindex="-1"></a>    tc <span class="op">=</span> ax.text(bar.get_width()<span class="op">+</span>grade_mean,bar.get_y()<span class="op">+</span>bar.get_height()<span class="op">/</span><span class="dv">2</span>,</span>
<span id="cb483-15"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb483-15" tabindex="-1"></a>                 bar.get_width()<span class="op">+</span>grade_mean,ha<span class="op">=</span><span class="st">"right"</span> <span class="cf">if</span> bar.get_width() <span class="op">&lt;</span> <span class="dv">0</span> <span class="cf">else</span> <span class="st">"left"</span>,va<span class="op">=</span><span class="st">"center"</span>)</span>
<span id="cb483-16"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb483-16" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="inline-figure"><img src="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B_files/figure-html/two-direction-bar-25.png" width="95%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb484"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb484-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb484-1" tabindex="-1"></a>plt.close()</span></code></pre></div>
</div>
<div id="组合条形图" class="section level3" number="7.5.5">
<h3>
<span class="header-section-number">7.5.5</span> 组合条形图<a class="anchor" aria-label="anchor" href="#%E7%BB%84%E5%90%88%E6%9D%A1%E5%BD%A2%E5%9B%BE"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb485"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb485-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb485-1" tabindex="-1"></a><span class="co"># 绘制多图</span></span>
<span id="cb485-2"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb485-2" tabindex="-1"></a>class_student_three <span class="op">=</span> pd.merge(student.query(<span class="st">"cla_id == 901"</span>),chengji.query(<span class="st">"exam_number == 284 &amp; mes_sub_name == ['数学','英语','语文']"</span>),</span>
<span id="cb485-3"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb485-3" tabindex="-1"></a>         how<span class="op">=</span><span class="st">"inner"</span>,left_on<span class="op">=</span><span class="st">"bf_StudentID"</span>,right_on<span class="op">=</span><span class="st">"mes_StudentID"</span>).pivot(index<span class="op">=</span><span class="st">"mes_sub_name"</span>,columns<span class="op">=</span><span class="st">"bf_StudentID"</span>,values<span class="op">=</span><span class="st">"mes_Score"</span>)</span>
<span id="cb485-4"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb485-4" tabindex="-1"></a><span class="co">#返回axes的集合</span></span>
<span id="cb485-5"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb485-5" tabindex="-1"></a>axs <span class="op">=</span> class_student_three.plot(</span>
<span id="cb485-6"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb485-6" tabindex="-1"></a>    kind <span class="op">=</span> <span class="st">"bar"</span>,</span>
<span id="cb485-7"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb485-7" tabindex="-1"></a>    subplots <span class="op">=</span> <span class="va">True</span>,</span>
<span id="cb485-8"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb485-8" tabindex="-1"></a>    layout <span class="op">=</span> (<span class="dv">5</span>,<span class="op">-</span><span class="dv">1</span>),</span>
<span id="cb485-9"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb485-9" tabindex="-1"></a>    figsize <span class="op">=</span> (<span class="dv">8</span>,<span class="dv">6</span>),</span>
<span id="cb485-10"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb485-10" tabindex="-1"></a>    width <span class="op">=</span> <span class="fl">0.9</span>,</span>
<span id="cb485-11"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb485-11" tabindex="-1"></a>    xlabel <span class="op">=</span> <span class="st">""</span>,</span>
<span id="cb485-12"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb485-12" tabindex="-1"></a>    ylabel <span class="op">=</span> <span class="st">""</span>,</span>
<span id="cb485-13"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb485-13" tabindex="-1"></a>    legend <span class="op">=</span> <span class="va">False</span></span>
<span id="cb485-14"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb485-14" tabindex="-1"></a>)</span>
<span id="cb485-15"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb485-15" tabindex="-1"></a>plt.subplots_adjust(wspace<span class="op">=</span><span class="fl">0.5</span>,hspace<span class="op">=</span><span class="fl">0.5</span>)</span>
<span id="cb485-16"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb485-16" tabindex="-1"></a>mean <span class="op">=</span> class_student_three.<span class="bu">apply</span>(np.mean,axis<span class="op">=</span><span class="dv">1</span>).values.flatten()</span>
<span id="cb485-17"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb485-17" tabindex="-1"></a><span class="cf">for</span> ax <span class="kw">in</span> axs.flatten():</span>
<span id="cb485-18"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb485-18" tabindex="-1"></a>    ax.set_axis_off()  </span>
<span id="cb485-19"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb485-19" tabindex="-1"></a>    ax.title.set_fontsize(<span class="dv">10</span>)</span>
<span id="cb485-20"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb485-20" tabindex="-1"></a>    <span class="co">#ax.get_legend().set_visible(False)</span></span>
<span id="cb485-21"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb485-21" tabindex="-1"></a>    <span class="co">#低于平均分为灰色，其他为黑色</span></span>
<span id="cb485-22"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb485-22" tabindex="-1"></a>    <span class="cf">for</span> m,patch <span class="kw">in</span> <span class="bu">zip</span>(mean,ax.patches):</span>
<span id="cb485-23"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb485-23" tabindex="-1"></a>        patch.set_facecolor(<span class="st">"grey"</span> <span class="cf">if</span> patch.get_height()<span class="op">&lt;</span>m <span class="cf">else</span> <span class="st">"black"</span>)</span>
<span id="cb485-24"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb485-24" tabindex="-1"></a>grey_patch <span class="op">=</span> mpatches.Patch(color<span class="op">=</span><span class="st">"grey"</span>)</span>
<span id="cb485-25"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb485-25" tabindex="-1"></a>black_patch <span class="op">=</span> mpatches.Patch(color<span class="op">=</span><span class="st">"black"</span>)</span>
<span id="cb485-26"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb485-26" tabindex="-1"></a>plt.legend(handles<span class="op">=</span>[grey_patch,black_patch],labels<span class="op">=</span>[<span class="st">"低于均分"</span>,<span class="st">"不低于均分"</span>],ncols<span class="op">=</span><span class="dv">2</span>,bbox_to_anchor<span class="op">=</span>(<span class="dv">1</span>,<span class="dv">8</span>))</span>
<span id="cb485-27"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb485-27" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="inline-figure"><img src="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B_files/figure-html/multi-bar-27.png" width="95%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb486"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb486-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb486-1" tabindex="-1"></a>plt.close()</span></code></pre></div>
<div class="sourceCode" id="cb487"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb487-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb487-1" tabindex="-1"></a><span class="co"># 要想在某个可调用的fig下绘制,可以指定ax=某个多图的ax集合，但是layout参数就不能使用了</span></span>
<span id="cb487-2"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb487-2" tabindex="-1"></a>fig,axc<span class="op">=</span> plt.subplots(<span class="dv">5</span>,<span class="dv">9</span>,figsize<span class="op">=</span>(<span class="dv">8</span>,<span class="dv">6</span>))</span>
<span id="cb487-3"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb487-3" tabindex="-1"></a>axs <span class="op">=</span> class_student_three.plot(</span>
<span id="cb487-4"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb487-4" tabindex="-1"></a>    kind <span class="op">=</span> <span class="st">"bar"</span>,</span>
<span id="cb487-5"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb487-5" tabindex="-1"></a>    subplots <span class="op">=</span> <span class="va">True</span>,</span>
<span id="cb487-6"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb487-6" tabindex="-1"></a>    <span class="co">#layout = (5,-1),</span></span>
<span id="cb487-7"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb487-7" tabindex="-1"></a>    <span class="co">#figsize = (8,6),</span></span>
<span id="cb487-8"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb487-8" tabindex="-1"></a>    width <span class="op">=</span> <span class="fl">0.9</span>,</span>
<span id="cb487-9"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb487-9" tabindex="-1"></a>    xlabel <span class="op">=</span> <span class="st">""</span>,</span>
<span id="cb487-10"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb487-10" tabindex="-1"></a>    ylabel <span class="op">=</span> <span class="st">""</span>,</span>
<span id="cb487-11"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb487-11" tabindex="-1"></a>    legend <span class="op">=</span> <span class="va">False</span>,</span>
<span id="cb487-12"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb487-12" tabindex="-1"></a>    ax <span class="op">=</span> axc</span>
<span id="cb487-13"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb487-13" tabindex="-1"></a>)</span>
<span id="cb487-14"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb487-14" tabindex="-1"></a>fig.subplots_adjust(wspace<span class="op">=</span><span class="fl">0.5</span>,hspace<span class="op">=</span><span class="fl">0.5</span>)</span>
<span id="cb487-15"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb487-15" tabindex="-1"></a>mean <span class="op">=</span> class_student_three.<span class="bu">apply</span>(np.mean,axis<span class="op">=</span><span class="dv">1</span>).values.flatten()</span>
<span id="cb487-16"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb487-16" tabindex="-1"></a><span class="cf">for</span> ax <span class="kw">in</span> axs.flatten():</span>
<span id="cb487-17"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb487-17" tabindex="-1"></a>    ax.set_axis_off()  </span>
<span id="cb487-18"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb487-18" tabindex="-1"></a>    ax.title.set_fontsize(<span class="dv">10</span>)</span>
<span id="cb487-19"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb487-19" tabindex="-1"></a>    <span class="co">#低于平均分为灰色，其他为黑色</span></span>
<span id="cb487-20"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb487-20" tabindex="-1"></a>    <span class="cf">for</span> m,patch <span class="kw">in</span> <span class="bu">zip</span>(mean,ax.patches):</span>
<span id="cb487-21"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb487-21" tabindex="-1"></a>        patch.set_facecolor(<span class="st">"grey"</span> <span class="cf">if</span> patch.get_height()<span class="op">&lt;</span>m <span class="cf">else</span> <span class="st">"black"</span>)</span>
<span id="cb487-22"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb487-22" tabindex="-1"></a>grey_patch <span class="op">=</span> mpatches.Patch(color<span class="op">=</span><span class="st">"grey"</span>)</span>
<span id="cb487-23"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb487-23" tabindex="-1"></a>black_patch <span class="op">=</span> mpatches.Patch(color<span class="op">=</span><span class="st">"black"</span>)</span>
<span id="cb487-24"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb487-24" tabindex="-1"></a>fig.legend(handles<span class="op">=</span>[grey_patch,black_patch],labels<span class="op">=</span>[<span class="st">"低于均分"</span>,<span class="st">"不低于均分"</span>],ncols<span class="op">=</span><span class="dv">2</span>,bbox_to_anchor<span class="op">=</span>(<span class="fl">0.9</span>,<span class="dv">1</span>))</span>
<span id="cb487-25"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb487-25" tabindex="-1"></a>t <span class="op">=</span> fig.suptitle(<span class="st">"某班学生语数英成绩对比"</span>,x<span class="op">=</span><span class="fl">0.15</span>,y<span class="op">=</span><span class="fl">0.95</span>,va<span class="op">=</span><span class="st">"bottom"</span>,ha<span class="op">=</span><span class="st">"left"</span>)</span>
<span id="cb487-26"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb487-26" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="inline-figure"><img src="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B_files/figure-html/multi-bar-2-29.png" width="95%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb488"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb488-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb488-1" tabindex="-1"></a>plt.close()</span></code></pre></div>
</div>
</div>
<div id="折线图" class="section level2" number="7.6">
<h2>
<span class="header-section-number">7.6</span> 折线图<a class="anchor" aria-label="anchor" href="#%E6%8A%98%E7%BA%BF%E5%9B%BE"><i class="fas fa-link"></i></a>
</h2>
<p><code>line, = plt.plot()</code> 是为了将返回的列表类型给解包，变成单个对象</p>
<div id="基础折线图" class="section level3" number="7.6.1">
<h3>
<span class="header-section-number">7.6.1</span> 基础折线图<a class="anchor" aria-label="anchor" href="#%E5%9F%BA%E7%A1%80%E6%8A%98%E7%BA%BF%E5%9B%BE"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb489"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb489-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb489-1" tabindex="-1"></a><span class="co"># 一个学生各科历次考试成绩变化,只取期中，期末和五校的三门主课成绩</span></span>
<span id="cb489-2"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb489-2" tabindex="-1"></a>a_student_grade <span class="op">=</span> chengji.query(<span class="st">"mes_StudentID  == 14933 &amp; exam_type == [2,3,6]"</span>).query(<span class="st">"mes_sub_name == ['语文','数学','英语']"</span>).sort_values([<span class="st">"exam_number"</span>]).dropna(subset<span class="op">=</span>[<span class="st">"mes_Score"</span>])[[<span class="st">"exam_number"</span>,<span class="st">"exam_sdate"</span>,<span class="st">"mes_sub_name"</span>,<span class="st">"mes_Score"</span>]]</span>
<span id="cb489-3"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb489-3" tabindex="-1"></a>a_student_grade[<span class="st">"exam_sdate"</span>] <span class="op">=</span> pd.to_datetime(a_student_grade.exam_sdate).dt.date <span class="co">#如果不加后面的提取日期是时间类型，加了则不是</span></span>
<span id="cb489-4"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb489-4" tabindex="-1"></a>exam_subject_score <span class="op">=</span> a_student_grade.pivot(index<span class="op">=</span><span class="st">"exam_number"</span>,columns<span class="op">=</span><span class="st">"mes_sub_name"</span>,values<span class="op">=</span><span class="st">"mes_Score"</span>).applymap(<span class="bu">int</span>)</span></code></pre></div>
<pre class="scroll-200"><code>&lt;string&gt;:1: FutureWarning: DataFrame.applymap has been deprecated. Use DataFrame.map instead.</code></pre>
<div class="sourceCode" id="cb491"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb491-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb491-1" tabindex="-1"></a>exam_subject_score</span></code></pre></div>
<pre class="scroll-200"><code>mes_sub_name  数学   英语  语文
exam_number              
284           53   77  65
288           78  124  81
292           63   75  68
298           67  106  91
304           78   79  57</code></pre>
<div class="sourceCode" id="cb493"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb493-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb493-1" tabindex="-1"></a>et_subject_score <span class="op">=</span> a_student_grade.pivot(index<span class="op">=</span><span class="st">"exam_sdate"</span>,columns<span class="op">=</span><span class="st">"mes_sub_name"</span>,values<span class="op">=</span><span class="st">"mes_Score"</span>).applymap(<span class="bu">int</span>)</span></code></pre></div>
<pre class="scroll-200"><code>&lt;string&gt;:2: FutureWarning: DataFrame.applymap has been deprecated. Use DataFrame.map instead.</code></pre>
<div class="sourceCode" id="cb495"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb495-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb495-1" tabindex="-1"></a>et_subject_score</span></code></pre></div>
<pre class="scroll-200"><code>mes_sub_name  数学   英语  语文
exam_sdate               
2017-11-15    53   77  65
2018-01-26    78  124  81
2018-04-23    63   75  68
2018-06-24    67  106  91
2018-11-05    78   79  57</code></pre>
<div class="sourceCode" id="cb497"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb497-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb497-1" tabindex="-1"></a>fig,ax <span class="op">=</span> plt.subplots(<span class="dv">1</span>,<span class="dv">1</span>)</span>
<span id="cb497-2"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb497-2" tabindex="-1"></a>ls <span class="op">=</span> exam_subject_score.plot(</span>
<span id="cb497-3"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb497-3" tabindex="-1"></a><span class="co"># fmt: 该关键字不能写，直接写值。"[marker][line][color]" </span></span>
<span id="cb497-4"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb497-4" tabindex="-1"></a><span class="co"># 如果没有marker，有line，则是一条线，无点，</span></span>
<span id="cb497-5"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb497-5" tabindex="-1"></a><span class="co"># 比如直接写".-r"，不要写fmt=".-r"</span></span>
<span id="cb497-6"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb497-6" tabindex="-1"></a>    mec <span class="op">=</span> <span class="st">"r"</span>,    <span class="co"># markeredgecolor</span></span>
<span id="cb497-7"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb497-7" tabindex="-1"></a>    mew <span class="op">=</span> <span class="dv">2</span>,      <span class="co"># markeredgewidth</span></span>
<span id="cb497-8"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb497-8" tabindex="-1"></a>    mfc <span class="op">=</span> <span class="st">'black'</span>,<span class="co">#  markerfacecolor='red',#marker填充色</span></span>
<span id="cb497-9"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb497-9" tabindex="-1"></a>    ms <span class="op">=</span> <span class="dv">5</span>,       <span class="co">#  markersize='15',#marker大小</span></span>
<span id="cb497-10"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb497-10" tabindex="-1"></a>    lw <span class="op">=</span> <span class="dv">2</span>,</span>
<span id="cb497-11"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb497-11" tabindex="-1"></a>    ls <span class="op">=</span> <span class="st">'--'</span>,</span>
<span id="cb497-12"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb497-12" tabindex="-1"></a>    marker<span class="op">=</span><span class="st">'^'</span>,<span class="co">#marker形状</span></span>
<span id="cb497-13"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb497-13" tabindex="-1"></a>    fillstyle<span class="op">=</span><span class="st">'top'</span>,<span class="co">#marker填充形式，可选{'full', 'left', 'right', 'bottom', 'top', 'none'}</span></span>
<span id="cb497-14"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb497-14" tabindex="-1"></a>    markerfacecoloralt<span class="op">=</span><span class="st">'blue'</span>,<span class="co">#marker未被填充部分颜色</span></span>
<span id="cb497-15"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb497-15" tabindex="-1"></a>    markevery<span class="op">=</span><span class="dv">2</span>,<span class="co">#每隔一个画一个marker</span></span>
<span id="cb497-16"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb497-16" tabindex="-1"></a>    <span class="co"># label='',#图例</span></span>
<span id="cb497-17"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb497-17" tabindex="-1"></a>    alpha<span class="op">=</span><span class="fl">0.8</span>,<span class="co">#线和marker的透明度   </span></span>
<span id="cb497-18"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb497-18" tabindex="-1"></a>    ax <span class="op">=</span> ax</span>
<span id="cb497-19"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb497-19" tabindex="-1"></a>)</span>
<span id="cb497-20"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb497-20" tabindex="-1"></a><span class="co">#如果类别以数值表示的话，它的tick的interval会发生根据数值差发生变化</span></span>
<span id="cb497-21"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb497-21" tabindex="-1"></a>ax.xaxis.set_major_locator(ticker.FixedLocator(exam_subject_score.index))</span>
<span id="cb497-22"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb497-22" tabindex="-1"></a><span class="co"># 添加标签</span></span>
<span id="cb497-23"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb497-23" tabindex="-1"></a><span class="cf">for</span> i,ds <span class="kw">in</span> exam_subject_score.iterrows():</span>
<span id="cb497-24"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb497-24" tabindex="-1"></a>    <span class="cf">for</span> d <span class="kw">in</span> ds:</span>
<span id="cb497-25"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb497-25" tabindex="-1"></a>        t <span class="op">=</span> ax.text(i,d,d,va<span class="op">=</span><span class="st">"bottom"</span>,ha<span class="op">=</span><span class="st">"center"</span>)</span>
<span id="cb497-26"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb497-26" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="inline-figure"><img src="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B_files/figure-html/basic-plot-31.png" width="95%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb498"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb498-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb498-1" tabindex="-1"></a>plt.close()</span></code></pre></div>
<div class="sourceCode" id="cb499"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb499-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb499-1" tabindex="-1"></a>ax <span class="op">=</span> et_subject_score.plot(subplots<span class="op">=</span>[(<span class="st">"数学"</span>,<span class="st">"语文"</span>),(<span class="st">"英语"</span>,)],layout<span class="op">=</span>(<span class="dv">1</span>,<span class="dv">2</span>),figsize<span class="op">=</span>(<span class="dv">10</span>,<span class="dv">5</span>))</span>
<span id="cb499-2"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb499-2" tabindex="-1"></a>t <span class="op">=</span> ax[<span class="dv">0</span>,<span class="dv">0</span>].set_xlabel(<span class="st">"exam_time"</span>)</span>
<span id="cb499-3"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb499-3" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="inline-figure"><img src="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B_files/figure-html/basic-plot-2-33.png" width="95%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb500"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb500-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb500-1" tabindex="-1"></a>plt.close()</span></code></pre></div>
</div>
</div>
<div id="直方图" class="section level2" number="7.7">
<h2>
<span class="header-section-number">7.7</span> 直方图<a class="anchor" aria-label="anchor" href="#%E7%9B%B4%E6%96%B9%E5%9B%BE"><i class="fas fa-link"></i></a>
</h2>
<p><code>n, bins, patches=plt.hist()</code></p>
<p><code>plt.xticks(bins)</code>#x轴刻度设置为箱子边界</p>
<div id="基础直方图" class="section level3" number="7.7.1">
<h3>
<span class="header-section-number">7.7.1</span> 基础直方图<a class="anchor" aria-label="anchor" href="#%E5%9F%BA%E7%A1%80%E7%9B%B4%E6%96%B9%E5%9B%BE"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb501"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb501-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb501-1" tabindex="-1"></a>class_student_math.plot(kind<span class="op">=</span><span class="st">"hist"</span>,</span>
<span id="cb501-2"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb501-2" tabindex="-1"></a><span class="co">##箱子数(bins)设置，以下三种不能同时并存</span></span>
<span id="cb501-3"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb501-3" tabindex="-1"></a><span class="co">#bins=20,#default: 10</span></span>
<span id="cb501-4"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb501-4" tabindex="-1"></a><span class="co">#bins=[4,6,8],#分两个箱子，边界分别为[4,6),[6,8]</span></span>
<span id="cb501-5"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb501-5" tabindex="-1"></a><span class="co">#bins='auto',# 可选'auto', 'fd', 'doane', 'scott', 'stone', 'rice', 'sturges', or 'sqrt'.</span></span>
<span id="cb501-6"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb501-6" tabindex="-1"></a><span class="co">#选择最合适的bin宽，绘制一个最能反映数据频率分布的直方图 </span></span>
<span id="cb501-7"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb501-7" tabindex="-1"></a></span>
<span id="cb501-8"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb501-8" tabindex="-1"></a><span class="co">#range=(5,7),#最左边和最右边箱子边界，不指定时，为(x.min(), x.max())</span></span>
<span id="cb501-9"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb501-9" tabindex="-1"></a><span class="co">#density=True, #默认为False，y轴显示频数；为True y轴显示频率，频率统计结果=该区间频数/(x中总样本数*该区间宽度)</span></span>
<span id="cb501-10"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb501-10" tabindex="-1"></a><span class="co">#weights=np.random.rand(len(x)),#对x中每一个样本设置权重，这里随机设置了权重</span></span>
<span id="cb501-11"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb501-11" tabindex="-1"></a>cumulative<span class="op">=</span><span class="va">False</span>,<span class="co">#默认False，是否累加频数或者频率，及后面一个柱子是前面所有柱子的累加</span></span>
<span id="cb501-12"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb501-12" tabindex="-1"></a>bottom<span class="op">=</span><span class="dv">0</span>,<span class="co">#设置箱子y轴方向基线，默认为0，箱子高度=bottom to bottom + hist(x, bins)</span></span>
<span id="cb501-13"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb501-13" tabindex="-1"></a>histtype<span class="op">=</span><span class="st">'bar'</span>,<span class="co">#直方图的类型默认为bar{'bar', 'barstacked', 'step', 'stepfilled'}</span></span>
<span id="cb501-14"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb501-14" tabindex="-1"></a>align<span class="op">=</span><span class="st">'mid'</span>,<span class="co">#箱子边界值的对齐方式，默认为mid{'left', 'mid', 'right'}</span></span>
<span id="cb501-15"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb501-15" tabindex="-1"></a>orientation<span class="op">=</span><span class="st">'vertical'</span>,<span class="co">#箱子水平还是垂直显示，默认垂直显示('vertical')，可选'horizontal'</span></span>
<span id="cb501-16"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb501-16" tabindex="-1"></a>rwidth<span class="op">=</span><span class="fl">1.0</span>,<span class="co">#每个箱子宽度，默认为1，此时显示50%</span></span>
<span id="cb501-17"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb501-17" tabindex="-1"></a>log<span class="op">=</span><span class="va">False</span>,<span class="co">#y轴数据是否取对数，默认不取对数为False</span></span>
<span id="cb501-18"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb501-18" tabindex="-1"></a>label<span class="op">=</span><span class="st">'sepal length(cm)'</span>,<span class="co">#图例</span></span>
<span id="cb501-19"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb501-19" tabindex="-1"></a><span class="co">#normed=0,#功能和density一样，二者不能同时使用</span></span>
<span id="cb501-20"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb501-20" tabindex="-1"></a>facecolor<span class="op">=</span><span class="st">'blue'</span>,<span class="co">#箱子颜色 </span></span>
<span id="cb501-21"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb501-21" tabindex="-1"></a>edgecolor<span class="op">=</span><span class="st">"black"</span>,<span class="co">#箱子边框颜色</span></span>
<span id="cb501-22"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb501-22" tabindex="-1"></a>stacked<span class="op">=</span><span class="va">False</span>,<span class="co">#多组数据是否堆叠</span></span>
<span id="cb501-23"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb501-23" tabindex="-1"></a>alpha<span class="op">=</span><span class="fl">0.5</span><span class="co">#箱子透明度</span></span>
<span id="cb501-24"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb501-24" tabindex="-1"></a>)</span>
<span id="cb501-25"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb501-25" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="inline-figure"><img src="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B_files/figure-html/basic-hist-35.png" width="95%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb502"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb502-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb502-1" tabindex="-1"></a>plt.close()</span></code></pre></div>
</div>
<div id="组合直方图" class="section level3" number="7.7.2">
<h3>
<span class="header-section-number">7.7.2</span> 组合直方图<a class="anchor" aria-label="anchor" href="#%E7%BB%84%E5%90%88%E7%9B%B4%E6%96%B9%E5%9B%BE"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb503"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb503-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb503-1" tabindex="-1"></a> <span class="co"># 某班级三次考试中数学成绩的变化</span></span>
<span id="cb503-2"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb503-2" tabindex="-1"></a>class_three_math <span class="op">=</span> pd.merge(student.query(<span class="st">"cla_id == 901"</span>),</span>
<span id="cb503-3"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb503-3" tabindex="-1"></a>         chengji.query(<span class="st">"exam_number == [284,289,292] &amp; mes_sub_name == '数学'"</span> ),</span>
<span id="cb503-4"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb503-4" tabindex="-1"></a>         how<span class="op">=</span><span class="st">"inner"</span>,</span>
<span id="cb503-5"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb503-5" tabindex="-1"></a>         left_on<span class="op">=</span><span class="st">"bf_StudentID"</span>,</span>
<span id="cb503-6"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb503-6" tabindex="-1"></a>         right_on<span class="op">=</span><span class="st">"mes_StudentID"</span>).pivot(index<span class="op">=</span><span class="st">"bf_StudentID"</span>,columns<span class="op">=</span><span class="st">"exam_number"</span>,values<span class="op">=</span><span class="st">"mes_Score"</span>)</span>
<span id="cb503-7"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb503-7" tabindex="-1"></a><span class="co"># 绘制图片，axs是axes的array</span></span>
<span id="cb503-8"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb503-8" tabindex="-1"></a>axs <span class="op">=</span> class_three_math.plot(</span>
<span id="cb503-9"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb503-9" tabindex="-1"></a>    kind <span class="op">=</span> <span class="st">"hist"</span>,</span>
<span id="cb503-10"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb503-10" tabindex="-1"></a>    bins <span class="op">=</span> <span class="dv">10</span>,</span>
<span id="cb503-11"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb503-11" tabindex="-1"></a>    subplots <span class="op">=</span> <span class="va">True</span>,</span>
<span id="cb503-12"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb503-12" tabindex="-1"></a>    layout <span class="op">=</span> (<span class="dv">1</span>,<span class="dv">3</span>),</span>
<span id="cb503-13"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb503-13" tabindex="-1"></a>    orientation <span class="op">=</span> <span class="st">"horizontal"</span>,</span>
<span id="cb503-14"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb503-14" tabindex="-1"></a>    color <span class="op">=</span> <span class="st">"grey"</span>,</span>
<span id="cb503-15"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb503-15" tabindex="-1"></a>    ylim <span class="op">=</span> (<span class="dv">50</span>,<span class="dv">100</span>),</span>
<span id="cb503-16"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb503-16" tabindex="-1"></a>    figsize <span class="op">=</span> (<span class="dv">10</span>,<span class="dv">6</span>),</span>
<span id="cb503-17"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb503-17" tabindex="-1"></a>    title <span class="op">=</span> <span class="st">"某班级连续三次考试数学成绩对比"</span>,</span>
<span id="cb503-18"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb503-18" tabindex="-1"></a>    sharey <span class="op">=</span> <span class="va">True</span></span>
<span id="cb503-19"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb503-19" tabindex="-1"></a>)</span>
<span id="cb503-20"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb503-20" tabindex="-1"></a></span>
<span id="cb503-21"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb503-21" tabindex="-1"></a><span class="co">#参数设置</span></span>
<span id="cb503-22"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb503-22" tabindex="-1"></a><span class="cf">for</span> ax <span class="kw">in</span> axs.flatten():</span>
<span id="cb503-23"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb503-23" tabindex="-1"></a>    ax.get_legend().set_visible(<span class="va">False</span>)</span>
<span id="cb503-24"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb503-24" tabindex="-1"></a>    <span class="cf">for</span> spine <span class="kw">in</span> ax.spines.values():</span>
<span id="cb503-25"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb503-25" tabindex="-1"></a>        spine.set_visible(<span class="va">False</span>)</span>
<span id="cb503-26"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb503-26" tabindex="-1"></a>    ax.xaxis.set_ticks_position(<span class="st">"none"</span>)</span>
<span id="cb503-27"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb503-27" tabindex="-1"></a>    ax.xaxis.set_major_locator(ticker.FixedLocator([<span class="dv">10</span>,<span class="dv">20</span>]))</span>
<span id="cb503-28"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb503-28" tabindex="-1"></a>    t <span class="op">=</span> ax.set_xlabel(<span class="st">""</span>)</span>
<span id="cb503-29"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb503-29" tabindex="-1"></a>    <span class="cf">for</span> tl <span class="kw">in</span> ax.yaxis.get_ticklines():</span>
<span id="cb503-30"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb503-30" tabindex="-1"></a>        tl.set_visible(<span class="va">False</span>)</span>
<span id="cb503-31"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb503-31" tabindex="-1"></a></span>
<span id="cb503-32"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb503-32" tabindex="-1"></a>xl <span class="op">=</span> axs[<span class="dv">0</span>,<span class="dv">0</span>].set_xlim(<span class="op">-</span><span class="dv">5</span>,<span class="dv">30</span>)</span>
<span id="cb503-33"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb503-33" tabindex="-1"></a></span>
<span id="cb503-34"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb503-34" tabindex="-1"></a><span class="co">#计算均值并标记</span></span>
<span id="cb503-35"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb503-35" tabindex="-1"></a>mean  <span class="op">=</span> <span class="bu">round</span>(class_three_math.<span class="bu">apply</span>(np.mean),<span class="dv">1</span>).values.flatten()</span>
<span id="cb503-36"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb503-36" tabindex="-1"></a><span class="cf">for</span> i,m <span class="kw">in</span> <span class="bu">enumerate</span>(mean):</span>
<span id="cb503-37"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb503-37" tabindex="-1"></a>    l <span class="op">=</span> axs[<span class="dv">0</span>,i].plot([<span class="dv">20</span>],[m],<span class="st">'.k'</span>)</span>
<span id="cb503-38"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb503-38" tabindex="-1"></a>    t <span class="op">=</span> axs[<span class="dv">0</span>,i].text(<span class="dv">20</span><span class="op">+</span><span class="dv">2</span>,m,m,va<span class="op">=</span><span class="st">"center"</span>,ha<span class="op">=</span><span class="st">"left"</span>)</span>
<span id="cb503-39"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb503-39" tabindex="-1"></a></span>
<span id="cb503-40"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb503-40" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="inline-figure"><img src="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B_files/figure-html/multi-hist-37.png" width="95%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb504"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb504-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb504-1" tabindex="-1"></a>plt.close()</span></code></pre></div>
</div>
</div>
<div id="箱线图-1" class="section level2" number="7.8">
<h2>
<span class="header-section-number">7.8</span> 箱线图<a class="anchor" aria-label="anchor" href="#%E7%AE%B1%E7%BA%BF%E5%9B%BE-1"><i class="fas fa-link"></i></a>
</h2>
<p>plt.boxplot()返回dict</p>
<pre><code>dict
  A dictionary mapping each component of the boxplot to a list
  of the `.Line2D` instances created. That dictionary has the
  following keys (assuming vertical boxplots):

  - ``boxes``: the main body of the boxplot showing the
    quartiles and the median's confidence intervals if
    enabled.

  - ``medians``: horizontal lines at the median of each box.

  - ``whiskers``: the vertical lines extending to the most
    extreme, non-outlier data points.

  - ``caps``: the horizontal lines at the ends of the
    whiskers.

  - ``fliers``: points representing data that extend beyond
    the whiskers (fliers).

  - ``means``: points or lines representing the means.</code></pre>
<div id="获取返回数据" class="section level3" number="7.8.1">
<h3>
<span class="header-section-number">7.8.1</span> 获取返回数据<a class="anchor" aria-label="anchor" href="#%E8%8E%B7%E5%8F%96%E8%BF%94%E5%9B%9E%E6%95%B0%E6%8D%AE"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb506"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb506-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb506-1" tabindex="-1"></a>class_student_grade <span class="op">=</span> pd.merge(student.query(<span class="st">"cla_id == 901"</span>),chengji.query(<span class="st">"exam_number == 284"</span>),</span>
<span id="cb506-2"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb506-2" tabindex="-1"></a>         how<span class="op">=</span><span class="st">"inner"</span>,left_on<span class="op">=</span><span class="st">"bf_StudentID"</span>,right_on<span class="op">=</span><span class="st">"mes_StudentID"</span>)[[<span class="st">"bf_StudentID"</span>,<span class="st">"mes_sub_name"</span>,<span class="st">"mes_Score"</span>]].pivot(index<span class="op">=</span><span class="st">"bf_StudentID"</span>,columns<span class="op">=</span><span class="st">"mes_sub_name"</span>,values<span class="op">=</span><span class="st">"mes_Score"</span>)</span>
<span id="cb506-3"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb506-3" tabindex="-1"></a></span>
<span id="cb506-4"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb506-4" tabindex="-1"></a>point <span class="op">=</span> plt.boxplot(</span>
<span id="cb506-5"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb506-5" tabindex="-1"></a>    x <span class="op">=</span> <span class="st">"数学"</span>,</span>
<span id="cb506-6"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb506-6" tabindex="-1"></a>    data <span class="op">=</span> class_student_grade[[<span class="st">"数学"</span>]]</span>
<span id="cb506-7"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb506-7" tabindex="-1"></a>)</span>
<span id="cb506-8"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb506-8" tabindex="-1"></a>point[<span class="st">"fliers"</span>][<span class="dv">0</span>].get_ydata()</span></code></pre></div>
<pre class="scroll-200"><code>array([ 56.,  63.,  61.,  55., 100.])</code></pre>
<div class="inline-figure"><img src="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B_files/figure-html/get-fliers-data-39.png" width="95%" style="display: block; margin: auto;"></div>
</div>
<div id="组合箱线图" class="section level3" number="7.8.2">
<h3>
<span class="header-section-number">7.8.2</span> 组合箱线图<a class="anchor" aria-label="anchor" href="#%E7%BB%84%E5%90%88%E7%AE%B1%E7%BA%BF%E5%9B%BE"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb508"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb508-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb508-1" tabindex="-1"></a><span class="co"># 一个班某一次考试各科成绩的箱线图</span></span>
<span id="cb508-2"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb508-2" tabindex="-1"></a>point <span class="op">=</span> class_student_grade.boxplot(</span>
<span id="cb508-3"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb508-3" tabindex="-1"></a>  whis <span class="op">=</span> <span class="fl">1.5</span>, <span class="co"># 指定1.5倍的四分位差</span></span>
<span id="cb508-4"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb508-4" tabindex="-1"></a>  widths <span class="op">=</span> <span class="fl">0.7</span>, <span class="co"># 指定箱线图的宽度为0.8</span></span>
<span id="cb508-5"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb508-5" tabindex="-1"></a>  patch_artist <span class="op">=</span> <span class="va">True</span>, <span class="co"># 指定需要填充箱体颜色</span></span>
<span id="cb508-6"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb508-6" tabindex="-1"></a>  showmeans <span class="op">=</span> <span class="va">True</span>, <span class="co"># 指定需要显示均值</span></span>
<span id="cb508-7"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb508-7" tabindex="-1"></a>  boxprops <span class="op">=</span> {<span class="st">'facecolor'</span>:<span class="st">'steelblue'</span>}, <span class="co"># 指定箱体的填充色为铁蓝色</span></span>
<span id="cb508-8"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb508-8" tabindex="-1"></a>  flierprops <span class="op">=</span> {<span class="st">'markerfacecolor'</span>:<span class="st">'red'</span>, <span class="st">'markeredgecolor'</span>:<span class="st">'red'</span>, <span class="st">'markersize'</span>:<span class="dv">4</span>},<span class="co">#  指定异常点的填充色、边框色和大小</span></span>
<span id="cb508-9"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb508-9" tabindex="-1"></a>  meanprops <span class="op">=</span> {<span class="st">'marker'</span>:<span class="st">'D'</span>,<span class="st">'markerfacecolor'</span>:<span class="st">'black'</span>, <span class="st">'markersize'</span>:<span class="dv">4</span>},<span class="co"># 指定均值点的标记符号（菱形）、填充色和大小</span></span>
<span id="cb508-10"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb508-10" tabindex="-1"></a>  medianprops <span class="op">=</span> {<span class="st">'linestyle'</span>:<span class="st">'--'</span>,<span class="st">'color'</span>:<span class="st">'orange'</span>},<span class="co">#指定中位数的标记符号（虚线）和颜色</span></span>
<span id="cb508-11"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb508-11" tabindex="-1"></a>  <span class="co">#labels = [''] # 去除箱线图的x轴刻度值</span></span>
<span id="cb508-12"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb508-12" tabindex="-1"></a>  vert <span class="op">=</span> <span class="va">True</span>,<span class="co">#默认绘制垂直箱线图</span></span>
<span id="cb508-13"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb508-13" tabindex="-1"></a>  return_type <span class="op">=</span> <span class="st">"dict"</span>,<span class="co">#确定返回类型，“dict，axes，both（ax,lines）”</span></span>
<span id="cb508-14"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb508-14" tabindex="-1"></a>)</span>
<span id="cb508-15"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb508-15" tabindex="-1"></a>plt.show()</span>
<span id="cb508-16"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb508-16" tabindex="-1"></a>plt.close()</span>
<span id="cb508-17"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb508-17" tabindex="-1"></a><span class="co">#获取异常点值</span></span>
<span id="cb508-18"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb508-18" tabindex="-1"></a><span class="cf">for</span> p <span class="kw">in</span> point[<span class="st">"fliers"</span>]:</span>
<span id="cb508-19"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb508-19" tabindex="-1"></a>    <span class="bu">print</span>(p.get_ydata())</span></code></pre></div>
<div class="inline-figure"><img src="static/image/%E5%8F%AF%E8%A7%86%E5%8C%96/%E7%AE%B1%E7%BA%BF%E5%9B%BE.png" width="95%" style="display: block; margin: auto;"></div>
</div>
</div>
<div id="饼图" class="section level2" number="7.9">
<h2>
<span class="header-section-number">7.9</span> 饼图<a class="anchor" aria-label="anchor" href="#%E9%A5%BC%E5%9B%BE"><i class="fas fa-link"></i></a>
</h2>
<div id="基础饼图" class="section level3" number="7.9.1">
<h3>
<span class="header-section-number">7.9.1</span> 基础饼图<a class="anchor" aria-label="anchor" href="#%E5%9F%BA%E7%A1%80%E9%A5%BC%E5%9B%BE"><i class="fas fa-link"></i></a>
</h3>
<p>返回每个扇，label和autotext（百分比)</p>
<div class="sourceCode" id="cb509"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb509-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb509-1" tabindex="-1"></a><span class="co"># 一个学生各科成绩的占比</span></span>
<span id="cb509-2"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb509-2" tabindex="-1"></a>patches,texts,autotexts <span class="op">=</span> plt.pie(</span>
<span id="cb509-3"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb509-3" tabindex="-1"></a>    data<span class="op">=</span>sub_score,</span>
<span id="cb509-4"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb509-4" tabindex="-1"></a>    x <span class="op">=</span> <span class="st">"mes_Score"</span>,<span class="co">#数值</span></span>
<span id="cb509-5"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb509-5" tabindex="-1"></a>    labels <span class="op">=</span> <span class="st">"mes_sub_name"</span>,<span class="co">#标签名</span></span>
<span id="cb509-6"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb509-6" tabindex="-1"></a>    colors<span class="op">=</span>[<span class="st">"#d5695d"</span>,<span class="st">"#5d8ca8"</span>,<span class="st">"#65a479"</span>,<span class="st">"#72384f"</span>],<span class="co">#修改饼图颜色，传入颜色list</span></span>
<span id="cb509-7"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb509-7" tabindex="-1"></a>    explode<span class="op">=</span>(<span class="fl">0.2</span>, <span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>),<span class="co">#某部分突出显示，值越大，距离中心越远，该法可解决饼图字体重叠的问题</span></span>
<span id="cb509-8"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb509-8" tabindex="-1"></a>    autopct<span class="op">=</span><span class="st">'</span><span class="sc">%.1f%%</span><span class="st">'</span>,<span class="co">#格式化输出百分比</span></span>
<span id="cb509-9"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb509-9" tabindex="-1"></a>    pctdistance<span class="op">=</span><span class="fl">0.8</span>,<span class="co">#百分比标签与圆心的距离</span></span>
<span id="cb509-10"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb509-10" tabindex="-1"></a>    labeldistance<span class="op">=</span><span class="fl">1.1</span>,<span class="co">#labels与圈边界的距离，默认为1.1</span></span>
<span id="cb509-11"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb509-11" tabindex="-1"></a>    startangle<span class="op">=</span><span class="dv">45</span>,<span class="co">#饼图的开始角度，默认为0度,为数学意义上的象限的0度，根据旋转方向旋转对应角度</span></span>
<span id="cb509-12"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb509-12" tabindex="-1"></a>    radius<span class="op">=</span><span class="fl">1.3</span>,<span class="co">#饼图半径，默认为1</span></span>
<span id="cb509-13"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb509-13" tabindex="-1"></a>    counterclock<span class="op">=</span><span class="va">False</span>,<span class="co">#关闭逆时针显示</span></span>
<span id="cb509-14"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb509-14" tabindex="-1"></a>    <span class="co">#设置框属性</span></span>
<span id="cb509-15"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb509-15" tabindex="-1"></a>    wedgeprops<span class="op">=</span>{<span class="st">'edgecolor'</span>:<span class="st">'r'</span>,<span class="co">#内外框颜色</span></span>
<span id="cb509-16"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb509-16" tabindex="-1"></a>                <span class="st">'linestyle'</span>:<span class="st">'--'</span>,<span class="co">#线型</span></span>
<span id="cb509-17"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb509-17" tabindex="-1"></a>                <span class="st">'alpha'</span>:<span class="fl">0.5</span>,<span class="co">#透明度</span></span>
<span id="cb509-18"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb509-18" tabindex="-1"></a>                <span class="co">#更多参考matplotlib.patches.Wedge                   </span></span>
<span id="cb509-19"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb509-19" tabindex="-1"></a>               },</span>
<span id="cb509-20"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb509-20" tabindex="-1"></a>            <span class="co">#饼图中文本的属性</span></span>
<span id="cb509-21"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb509-21" tabindex="-1"></a>    textprops<span class="op">=</span>{<span class="st">'color'</span>:<span class="st">'r'</span>,<span class="co">#文本颜色</span></span>
<span id="cb509-22"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb509-22" tabindex="-1"></a>               <span class="st">'fontsize'</span>:<span class="dv">16</span>,<span class="co">#文本大小</span></span>
<span id="cb509-23"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb509-23" tabindex="-1"></a>               <span class="st">'fontfamily'</span>:<span class="st">'Microsoft JhengHei'</span>,<span class="co">#设置微软雅黑字体</span></span>
<span id="cb509-24"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb509-24" tabindex="-1"></a>               <span class="co">#更多参考matplotlib.pyplot.text                 </span></span>
<span id="cb509-25"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb509-25" tabindex="-1"></a>              }</span>
<span id="cb509-26"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb509-26" tabindex="-1"></a>)</span>
<span id="cb509-27"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb509-27" tabindex="-1"></a>patches[<span class="dv">0</span>].set_facecolor(<span class="st">'red'</span>)<span class="co">#设置第一个弧形块的颜色</span></span>
<span id="cb509-28"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb509-28" tabindex="-1"></a>texts[<span class="dv">0</span>].set_size(<span class="dv">40</span>)<span class="co">#设置第一个标签的大小</span></span>
<span id="cb509-29"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb509-29" tabindex="-1"></a>autotexts[<span class="dv">0</span>].set_color(<span class="st">'white'</span>)<span class="co">#修改第一个百分比的颜色</span></span>
<span id="cb509-30"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb509-30" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="inline-figure"><img src="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B_files/figure-html/basic-pie-1.png" width="95%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb510"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb510-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb510-1" tabindex="-1"></a>plt.close()</span></code></pre></div>
</div>
<div id="玫瑰图" class="section level3" number="7.9.2">
<h3>
<span class="header-section-number">7.9.2</span> 玫瑰图<a class="anchor" aria-label="anchor" href="#%E7%8E%AB%E7%91%B0%E5%9B%BE"><i class="fas fa-link"></i></a>
</h3>
<p>结合极坐标</p>
<div class="sourceCode" id="cb511"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb511-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb511-1" tabindex="-1"></a><span class="co"># 不同长度rad的极坐标柱形图</span></span>
<span id="cb511-2"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb511-2" tabindex="-1"></a><span class="co">#设置theta，rad，width，colors</span></span>
<span id="cb511-3"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb511-3" tabindex="-1"></a>fig,ax <span class="op">=</span> plt.subplots(<span class="dv">1</span>,<span class="dv">1</span>,layout<span class="op">=</span><span class="st">'constrained'</span>,subplot_kw<span class="op">=</span>{<span class="st">'projection'</span>:<span class="st">"polar"</span>})</span>
<span id="cb511-4"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb511-4" tabindex="-1"></a>theta <span class="op">=</span> np.pi<span class="op">*</span>np.linspace(<span class="dv">0</span>,<span class="dv">2</span>,<span class="bu">len</span>(class_student_math)<span class="op">+</span><span class="dv">1</span>)[:<span class="op">-</span><span class="dv">1</span>]</span>
<span id="cb511-5"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb511-5" tabindex="-1"></a>line,label <span class="op">=</span> ax.set_thetagrids(theta<span class="op">*</span><span class="dv">180</span><span class="op">/</span>np.pi,class_student_math.index,ha<span class="op">=</span><span class="st">"center"</span>,va<span class="op">=</span><span class="st">"top"</span>,fontsize<span class="op">=</span><span class="dv">10</span>) </span>
<span id="cb511-6"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb511-6" tabindex="-1"></a><span class="co">#ax.set_rlabel_position()</span></span>
<span id="cb511-7"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb511-7" tabindex="-1"></a><span class="co">#ax.grid(False)</span></span>
<span id="cb511-8"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb511-8" tabindex="-1"></a>rad <span class="op">=</span> class_student_math.sort_values(<span class="st">"mes_Score"</span>,ascending<span class="op">=</span><span class="va">False</span>).mes_Score</span>
<span id="cb511-9"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb511-9" tabindex="-1"></a>width <span class="op">=</span> <span class="dv">2</span><span class="op">*</span>np.pi<span class="op">/</span><span class="bu">len</span>(class_student_math)</span>
<span id="cb511-10"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb511-10" tabindex="-1"></a><span class="co">#颜色利用数值归一化后传入</span></span>
<span id="cb511-11"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb511-11" tabindex="-1"></a>ax.bar(theta,rad,width<span class="op">=</span>width, bottom<span class="op">=</span><span class="fl">0.0</span>,alpha<span class="op">=</span><span class="fl">0.8</span>,color<span class="op">=</span>plt.cm.viridis((rad<span class="op">-</span>rad.<span class="bu">min</span>())<span class="op">/</span>(rad.<span class="bu">max</span>()<span class="op">-</span>rad.<span class="bu">min</span>())))</span>
<span id="cb511-12"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb511-12" tabindex="-1"></a><span class="co">#color=plt.cm.viridis((rad-rad.min())/(rad.max()-rad.min())*256)</span></span>
<span id="cb511-13"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb511-13" tabindex="-1"></a><span class="co">#,edgecolor="white"</span></span>
<span id="cb511-14"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb511-14" tabindex="-1"></a>ax.set_theta_zero_location(<span class="st">'N'</span>)         <span class="co">#设置极轴方向</span></span>
<span id="cb511-15"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb511-15" tabindex="-1"></a><span class="co">#t = ax.set_rticks([])</span></span>
<span id="cb511-16"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb511-16" tabindex="-1"></a>ax.set_axis_off()</span>
<span id="cb511-17"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb511-17" tabindex="-1"></a><span class="cf">for</span> t,v,l <span class="kw">in</span> <span class="bu">zip</span>(theta,rad,rad.index):</span>
<span id="cb511-18"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb511-18" tabindex="-1"></a>    nt <span class="op">=</span> ax.text(t,v,<span class="bu">str</span>(l)<span class="op">+</span><span class="st">"</span><span class="ch">\n</span><span class="st">"</span><span class="op">+</span><span class="bu">str</span>(v),ha<span class="op">=</span><span class="st">"center"</span>,va<span class="op">=</span><span class="st">"center"</span>,fontsize<span class="op">=</span><span class="dv">8</span>,rotation<span class="op">=</span>t<span class="op">*</span><span class="dv">180</span><span class="op">/</span>np.pi,color<span class="op">=</span><span class="st">"black"</span>,fontfamily<span class="op">=</span><span class="st">"KaiTi"</span>)</span>
<span id="cb511-19"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb511-19" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="inline-figure"><img src="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B_files/figure-html/polar-bar-3.png" width="95%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb512"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb512-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb512-1" tabindex="-1"></a>plt.close()</span></code></pre></div>
</div>
</div>
<div id="散点图" class="section level2" number="7.10">
<h2>
<span class="header-section-number">7.10</span> 散点图<a class="anchor" aria-label="anchor" href="#%E6%95%A3%E7%82%B9%E5%9B%BE"><i class="fas fa-link"></i></a>
</h2>
<div id="基础散点图" class="section level3" number="7.10.1">
<h3>
<span class="header-section-number">7.10.1</span> 基础散点图<a class="anchor" aria-label="anchor" href="#%E5%9F%BA%E7%A1%80%E6%95%A3%E7%82%B9%E5%9B%BE"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb513"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb513-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb513-1" tabindex="-1"></a>scatter_data <span class="op">=</span> pd.DataFrame(</span>
<span id="cb513-2"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb513-2" tabindex="-1"></a>    {</span>
<span id="cb513-3"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb513-3" tabindex="-1"></a>        <span class="st">"x"</span>:np.random.randint(<span class="dv">1</span>,<span class="dv">10</span>,<span class="dv">36</span>),</span>
<span id="cb513-4"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb513-4" tabindex="-1"></a>        <span class="st">"y"</span>:np.random.randint(<span class="dv">1</span>,<span class="dv">10</span>,<span class="dv">36</span>),</span>
<span id="cb513-5"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb513-5" tabindex="-1"></a>        <span class="st">"c"</span>:np.random.permutation([<span class="st">'a'</span>,<span class="st">'b'</span>,<span class="st">'c'</span>,<span class="st">'d'</span>]<span class="op">*</span><span class="dv">9</span>),</span>
<span id="cb513-6"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb513-6" tabindex="-1"></a>        <span class="st">"s"</span>:np.random.permutation([<span class="dv">5</span>,<span class="dv">10</span>,<span class="dv">15</span>,<span class="dv">20</span>,<span class="dv">25</span>,<span class="dv">30</span>]<span class="op">*</span><span class="dv">6</span>),</span>
<span id="cb513-7"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb513-7" tabindex="-1"></a>        <span class="st">"m"</span>:np.random.permutation([<span class="st">"one"</span>,<span class="st">"two"</span>]<span class="op">*</span><span class="dv">18</span>)</span>
<span id="cb513-8"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb513-8" tabindex="-1"></a>    }</span>
<span id="cb513-9"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb513-9" tabindex="-1"></a>)</span>
<span id="cb513-10"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb513-10" tabindex="-1"></a>plt.scatter(</span>
<span id="cb513-11"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb513-11" tabindex="-1"></a>    data <span class="op">=</span> scatter_data,</span>
<span id="cb513-12"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb513-12" tabindex="-1"></a>    x <span class="op">=</span> <span class="st">"x"</span>,</span>
<span id="cb513-13"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb513-13" tabindex="-1"></a>    y <span class="op">=</span> <span class="st">"y"</span>,</span>
<span id="cb513-14"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb513-14" tabindex="-1"></a>    s <span class="op">=</span> <span class="st">"s"</span>,</span>
<span id="cb513-15"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb513-15" tabindex="-1"></a>    c <span class="op">=</span> scatter_data.c.<span class="bu">map</span>({<span class="st">"a"</span>:<span class="st">"red"</span>,<span class="st">"b"</span>:<span class="st">"blue"</span>,<span class="st">"c"</span>:<span class="st">"yellow"</span>,<span class="st">"d"</span>:<span class="st">"green"</span>}),</span>
<span id="cb513-16"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb513-16" tabindex="-1"></a>    <span class="co">#marker = ,marker形状,如果想要绘制不同的形状，则需要利用循环</span></span>
<span id="cb513-17"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb513-17" tabindex="-1"></a>    <span class="co">#marker=matplotlib.markers.MarkerStyle(marker = markers[i],fillstyle='full'),#设置marker的填充</span></span>
<span id="cb513-18"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb513-18" tabindex="-1"></a>    alpha<span class="op">=</span><span class="fl">0.8</span>,<span class="co">#marker透明度，范围为0-1</span></span>
<span id="cb513-19"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb513-19" tabindex="-1"></a>    facecolors<span class="op">=</span><span class="st">'r'</span>,<span class="co">#marker的填充颜色，当上面c参数设置了颜色，优先c</span></span>
<span id="cb513-20"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb513-20" tabindex="-1"></a>    edgecolors<span class="op">=</span><span class="st">'none'</span>,<span class="co">#marker的边缘线色</span></span>
<span id="cb513-21"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb513-21" tabindex="-1"></a>    linewidths<span class="op">=</span><span class="dv">1</span>,<span class="co">#marker边缘线宽度，edgecolors不设置时，改参数不起作用</span></span>
<span id="cb513-22"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb513-22" tabindex="-1"></a>    <span class="co">#label = 后面图例的名称取自label</span></span>
<span id="cb513-23"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb513-23" tabindex="-1"></a>)</span>
<span id="cb513-24"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb513-24" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="inline-figure"><img src="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B_files/figure-html/basic-scatter-5.png" width="95%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb514"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb514-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb514-1" tabindex="-1"></a>plt.close()</span></code></pre></div>
</div>
<div id="不同形状的散点" class="section level3" number="7.10.2">
<h3>
<span class="header-section-number">7.10.2</span> 不同形状的散点<a class="anchor" aria-label="anchor" href="#%E4%B8%8D%E5%90%8C%E5%BD%A2%E7%8A%B6%E7%9A%84%E6%95%A3%E7%82%B9"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb515"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb515-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb515-1" tabindex="-1"></a>fig,ax <span class="op">=</span> plt.subplots(<span class="dv">1</span>,<span class="dv">1</span>)</span>
<span id="cb515-2"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb515-2" tabindex="-1"></a>mark <span class="op">=</span> {<span class="st">"one"</span>:<span class="st">"."</span>,<span class="st">"two"</span>:<span class="st">"*"</span>}</span>
<span id="cb515-3"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb515-3" tabindex="-1"></a><span class="co">#不要colorbar</span></span>
<span id="cb515-4"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb515-4" tabindex="-1"></a><span class="co">#markersize的比较合适大小在100左右</span></span>
<span id="cb515-5"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb515-5" tabindex="-1"></a><span class="co">#利用cmap将color中的数值映射到颜色</span></span>
<span id="cb515-6"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb515-6" tabindex="-1"></a><span class="cf">for</span> m,md <span class="kw">in</span> scatter_data.groupby(<span class="st">"m"</span>):</span>
<span id="cb515-7"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb515-7" tabindex="-1"></a>    p <span class="op">=</span> md.plot(</span>
<span id="cb515-8"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb515-8" tabindex="-1"></a>    kind<span class="op">=</span><span class="st">"scatter"</span>,</span>
<span id="cb515-9"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb515-9" tabindex="-1"></a>    marker <span class="op">=</span> mark[m],</span>
<span id="cb515-10"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb515-10" tabindex="-1"></a>    x <span class="op">=</span> <span class="st">"x"</span>,</span>
<span id="cb515-11"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb515-11" tabindex="-1"></a>    y <span class="op">=</span> <span class="st">"y"</span>,</span>
<span id="cb515-12"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb515-12" tabindex="-1"></a>    s <span class="op">=</span> <span class="dv">10</span><span class="op">*</span>md.s,</span>
<span id="cb515-13"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb515-13" tabindex="-1"></a>    c <span class="op">=</span> md.s,</span>
<span id="cb515-14"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb515-14" tabindex="-1"></a>    cmap <span class="op">=</span> mpl.cm.viridis,</span>
<span id="cb515-15"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb515-15" tabindex="-1"></a>    <span class="co">#marker = ,marker形状,如果想要绘制不同的形状，则需要利用循环</span></span>
<span id="cb515-16"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb515-16" tabindex="-1"></a>    <span class="co">#marker=matplotlib.markers.MarkerStyle(marker = markers[i],fillstyle='full'),#设置marker的填充</span></span>
<span id="cb515-17"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb515-17" tabindex="-1"></a>    alpha<span class="op">=</span><span class="fl">0.8</span>,<span class="co">#marker透明度，范围为0-1</span></span>
<span id="cb515-18"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb515-18" tabindex="-1"></a>    facecolors<span class="op">=</span><span class="st">'r'</span>,<span class="co">#marker的填充颜色，当上面c参数设置了颜色，优先c</span></span>
<span id="cb515-19"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb515-19" tabindex="-1"></a>    edgecolors<span class="op">=</span><span class="st">'none'</span>,<span class="co">#marker的边缘线色</span></span>
<span id="cb515-20"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb515-20" tabindex="-1"></a>    linewidths<span class="op">=</span><span class="dv">1</span>,<span class="co">#marker边缘线宽度，edgecolors不设置时，改参数不起作用</span></span>
<span id="cb515-21"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb515-21" tabindex="-1"></a>    <span class="co">#label = 后面图例的名称取自label</span></span>
<span id="cb515-22"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb515-22" tabindex="-1"></a>    colorbar <span class="op">=</span> <span class="va">False</span>,</span>
<span id="cb515-23"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb515-23" tabindex="-1"></a>    ax<span class="op">=</span>ax,</span>
<span id="cb515-24"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb515-24" tabindex="-1"></a>    )</span>
<span id="cb515-25"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb515-25" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="inline-figure"><img src="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B_files/figure-html/diff-shape-scatter-7.png" width="95%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb516"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb516-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb516-1" tabindex="-1"></a>plt.close()</span></code></pre></div>
</div>
</div>
<div id="极坐标" class="section level2" number="7.11">
<h2>
<span class="header-section-number">7.11</span> 极坐标<a class="anchor" aria-label="anchor" href="#%E6%9E%81%E5%9D%90%E6%A0%87"><i class="fas fa-link"></i></a>
</h2>
<pre><code>#创建极坐标
fig = plt.figure()
ax = fig.add_subplot(polar=True)
#创建极坐标
fig,ax = plt.subplots(subplot_kw={'projection':"polar"})</code></pre>
<div id="基础极坐标" class="section level3" number="7.11.1">
<h3>
<span class="header-section-number">7.11.1</span> 基础极坐标<a class="anchor" aria-label="anchor" href="#%E5%9F%BA%E7%A1%80%E6%9E%81%E5%9D%90%E6%A0%87"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb518"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb518-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb518-1" tabindex="-1"></a>fig <span class="op">=</span> plt.figure()</span>
<span id="cb518-2"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb518-2" tabindex="-1"></a>ax <span class="op">=</span> fig.add_subplot(polar<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb518-3"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb518-3" tabindex="-1"></a>fig.clear()</span>
<span id="cb518-4"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb518-4" tabindex="-1"></a><span class="co">#创建极坐标图</span></span>
<span id="cb518-5"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb518-5" tabindex="-1"></a>fig,ax <span class="op">=</span> plt.subplots(subplot_kw<span class="op">=</span>{<span class="st">'projection'</span>:<span class="st">"polar"</span>})</span>
<span id="cb518-6"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb518-6" tabindex="-1"></a><span class="co">#绘制点图，即雷达图，只需确定几等分，以及label即可</span></span>
<span id="cb518-7"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb518-7" tabindex="-1"></a><span class="co">#获取两位同学的某次考试各科成绩</span></span>
<span id="cb518-8"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb518-8" tabindex="-1"></a>two_student <span class="op">=</span> chengji.query(<span class="st">"mes_StudentID == [13543,13544] &amp; exam_number == 288 &amp; mes_Score &gt;0"</span>).pivot(index<span class="op">=</span><span class="st">"mes_sub_name"</span>,columns<span class="op">=</span><span class="st">"mes_StudentID"</span>,values<span class="op">=</span><span class="st">"mes_Score"</span>)</span>
<span id="cb518-9"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb518-9" tabindex="-1"></a><span class="co">#这里要多生成一个角度，因为0,2pi是一样的位置</span></span>
<span id="cb518-10"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb518-10" tabindex="-1"></a>theta <span class="op">=</span> np.linspace(<span class="dv">0</span>,<span class="dv">2</span><span class="op">*</span>np.pi,<span class="bu">len</span>(two_student)<span class="op">+</span><span class="dv">1</span>)[:<span class="op">-</span><span class="dv">1</span>]</span>
<span id="cb518-11"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb518-11" tabindex="-1"></a>name <span class="op">=</span> two_student.index</span>
<span id="cb518-12"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb518-12" tabindex="-1"></a>tn <span class="op">=</span> ax.set_thetagrids(theta<span class="op">*</span><span class="dv">180</span><span class="op">/</span>np.pi,name)         <span class="co">#替换轴线和标签</span></span>
<span id="cb518-13"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb518-13" tabindex="-1"></a>s1, <span class="op">=</span> ax.plot(theta,two_student.iloc[:,<span class="dv">0</span>],<span class="st">'.m'</span>)</span>
<span id="cb518-14"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb518-14" tabindex="-1"></a>s2, <span class="op">=</span> ax.plot(theta,two_student.iloc[:,<span class="dv">1</span>],<span class="st">'.g'</span>)</span>
<span id="cb518-15"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb518-15" tabindex="-1"></a>ax.set_rmax(<span class="dv">160</span>)</span>
<span id="cb518-16"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb518-16" tabindex="-1"></a>t <span class="op">=</span> ax.set_rticks([<span class="dv">20</span>,<span class="dv">40</span>,<span class="dv">60</span>,<span class="dv">80</span>,<span class="dv">100</span>,<span class="dv">120</span>,<span class="dv">140</span>,<span class="dv">160</span>])  <span class="co"># Less radial ticks</span></span>
<span id="cb518-17"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb518-17" tabindex="-1"></a>ax.set_rlabel_position(<span class="op">-</span><span class="fl">22.5</span>)  <span class="co"># Move radial labels away from plotted line</span></span>
<span id="cb518-18"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb518-18" tabindex="-1"></a>ax.grid(<span class="va">True</span>)</span>
<span id="cb518-19"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb518-19" tabindex="-1"></a>p1 <span class="op">=</span> ax.fill(theta,two_student.iloc[:,<span class="dv">0</span>],<span class="st">'m'</span>,alpha <span class="op">=</span> <span class="fl">0.75</span>)           <span class="co">#填充</span></span>
<span id="cb518-20"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb518-20" tabindex="-1"></a>p2 <span class="op">=</span> ax.fill(theta,two_student.iloc[:,<span class="dv">1</span>],color<span class="op">=</span><span class="st">'grey'</span>,alpha <span class="op">=</span> <span class="fl">0.75</span>)           <span class="co">#填充</span></span>
<span id="cb518-21"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb518-21" tabindex="-1"></a>ax.set_theta_zero_location(<span class="st">'E'</span>)         <span class="co">#设置极轴方向</span></span>
<span id="cb518-22"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb518-22" tabindex="-1"></a>t <span class="op">=</span> ax.set_title(<span class="st">"A plot"</span>, va<span class="op">=</span><span class="st">'bottom'</span>)</span>
<span id="cb518-23"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb518-23" tabindex="-1"></a>l <span class="op">=</span> ax.legend(handles<span class="op">=</span>[s1,s2],labels<span class="op">=</span><span class="bu">list</span>(two_student.columns),bbox_to_anchor<span class="op">=</span>(<span class="fl">1.3</span>,<span class="dv">1</span>))</span>
<span id="cb518-24"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb518-24" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="inline-figure"><img src="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B_files/figure-html/basic-polar-9.png" width="95%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb519"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb519-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb519-1" tabindex="-1"></a>plt.close()</span></code></pre></div>
</div>
</div>
<div id="帕累托图" class="section level2" number="7.12">
<h2>
<span class="header-section-number">7.12</span> 帕累托图<a class="anchor" aria-label="anchor" href="#%E5%B8%95%E7%B4%AF%E6%89%98%E5%9B%BE"><i class="fas fa-link"></i></a>
</h2>
<p>主要用来绘制顺序数据</p>
<div class="sourceCode" id="cb520"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb520-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb520-1" tabindex="-1"></a><span class="co"># 即要绘制双轴</span></span>
<span id="cb520-2"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb520-2" tabindex="-1"></a>pdata <span class="op">=</span> pd.DataFrame({<span class="st">"one"</span>:[<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>]},index<span class="op">=</span>[<span class="st">"a"</span>,<span class="st">"b"</span>,<span class="st">"c"</span>]) </span>
<span id="cb520-3"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb520-3" tabindex="-1"></a>fig,ax <span class="op">=</span> plt.subplots(<span class="dv">1</span>,<span class="dv">1</span>,figsize<span class="op">=</span>(<span class="dv">8</span>,<span class="dv">8</span>))</span>
<span id="cb520-4"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb520-4" tabindex="-1"></a>b <span class="op">=</span> pdata.plot(kind<span class="op">=</span><span class="st">"bar"</span>,ax<span class="op">=</span>ax,legend<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb520-5"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb520-5" tabindex="-1"></a>ax.set_ylim(<span class="dv">0</span>,<span class="dv">6</span>)</span></code></pre></div>
<pre class="scroll-200"><code>(0.0, 6.0)</code></pre>
<div class="sourceCode" id="cb522"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb522-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb522-1" tabindex="-1"></a>ax.yaxis.set_major_locator(ticker.LinearLocator(<span class="dv">3</span>))</span>
<span id="cb522-2"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb522-2" tabindex="-1"></a>ax2 <span class="op">=</span> ax.twinx()</span>
<span id="cb522-3"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb522-3" tabindex="-1"></a>pdatacum <span class="op">=</span> pdata.<span class="bu">apply</span>(<span class="kw">lambda</span> x:x.cumsum()<span class="op">/</span><span class="bu">sum</span>(x))</span>
<span id="cb522-4"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb522-4" tabindex="-1"></a>l <span class="op">=</span> pdatacum.plot(ax<span class="op">=</span>ax2,legend<span class="op">=</span><span class="va">False</span>,marker<span class="op">=</span><span class="st">"."</span>)</span>
<span id="cb522-5"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb522-5" tabindex="-1"></a>ax2.set_ylim(<span class="dv">0</span>,<span class="dv">1</span>)</span></code></pre></div>
<pre class="scroll-200"><code>(0.0, 1.0)</code></pre>
<div class="sourceCode" id="cb524"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb524-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb524-1" tabindex="-1"></a>ax2.yaxis.set_major_locator(ticker.LinearLocator(<span class="dv">6</span>))</span>
<span id="cb524-2"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb524-2" tabindex="-1"></a>ax2.yaxis.set_major_formatter(ticker.PercentFormatter(xmax<span class="op">=</span><span class="dv">1</span>))</span>
<span id="cb524-3"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb524-3" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="inline-figure"><img src="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B_files/figure-html/unnamed-chunk-1-11.png" width="95%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb525"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb525-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb525-1" tabindex="-1"></a>plt.close()</span></code></pre></div>
</div>
<div id="多图" class="section level2" number="7.13">
<h2>
<span class="header-section-number">7.13</span> 多图<a class="anchor" aria-label="anchor" href="#%E5%A4%9A%E5%9B%BE"><i class="fas fa-link"></i></a>
</h2>
<p>主要介绍进行任意axes组合的方法</p>
<p><code>matplotlib.gridspec.GridSpec(nrows, ncols, figure=None, left=None, bottom=None, right=None, top=None, wspace=None, hspace=None, width_ratios=None, height_ratios=None)</code></p>
<div class="sourceCode" id="cb526"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb526-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb526-1" tabindex="-1"></a><span class="co"># 生成任意排列的图形</span></span>
<span id="cb526-2"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb526-2" tabindex="-1"></a>fig <span class="op">=</span> plt.figure(dpi<span class="op">=</span><span class="dv">100</span>,</span>
<span id="cb526-3"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb526-3" tabindex="-1"></a>                 constrained_layout<span class="op">=</span><span class="va">True</span>,<span class="co">#类似于tight_layout，使得各子图之间的距离自动调整【类似excel中行宽根据内容自适应】</span></span>
<span id="cb526-4"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb526-4" tabindex="-1"></a>                )</span>
<span id="cb526-5"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb526-5" tabindex="-1"></a>gs <span class="op">=</span> GridSpec(<span class="dv">3</span>, <span class="dv">3</span>, figure<span class="op">=</span>fig)<span class="co">#GridSpec将fiure分为3行3列，每行三个axes，gs为一个matplotlib.gridspec.GridSpec对象，可灵活的切片figure</span></span>
<span id="cb526-6"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb526-6" tabindex="-1"></a>ax1 <span class="op">=</span> fig.add_subplot(gs[<span class="dv">0</span>, <span class="dv">0</span>:<span class="dv">1</span>])</span>
<span id="cb526-7"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb526-7" tabindex="-1"></a>plt.plot([<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>])</span>
<span id="cb526-8"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb526-8" tabindex="-1"></a>ax2 <span class="op">=</span> fig.add_subplot(gs[<span class="dv">0</span>, <span class="dv">1</span>:<span class="dv">3</span>])<span class="co">#gs[0, 0:3]中0选取figure的第一行，0:3选取figure第二列和第三列</span></span>
<span id="cb526-9"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb526-9" tabindex="-1"></a></span>
<span id="cb526-10"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb526-10" tabindex="-1"></a><span class="co">#ax3 = fig.add_subplot(gs[1, 0:2])</span></span>
<span id="cb526-11"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb526-11" tabindex="-1"></a>plt.subplot(gs[<span class="dv">1</span>, <span class="dv">0</span>:<span class="dv">2</span>])<span class="co">#同样可以使用基于pyplot api的方式</span></span>
<span id="cb526-12"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb526-12" tabindex="-1"></a>plt.scatter([<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>],[<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>],marker<span class="op">=</span><span class="st">'*'</span>)</span>
<span id="cb526-13"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb526-13" tabindex="-1"></a></span>
<span id="cb526-14"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb526-14" tabindex="-1"></a>ax4 <span class="op">=</span> fig.add_subplot(gs[<span class="dv">1</span>:<span class="dv">3</span>, <span class="dv">2</span>:<span class="dv">3</span>])</span>
<span id="cb526-15"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb526-15" tabindex="-1"></a>plt.bar([<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>],[<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>])</span>
<span id="cb526-16"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb526-16" tabindex="-1"></a></span>
<span id="cb526-17"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb526-17" tabindex="-1"></a>ax5 <span class="op">=</span> fig.add_subplot(gs[<span class="dv">2</span>, <span class="dv">0</span>:<span class="dv">1</span>])</span>
<span id="cb526-18"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb526-18" tabindex="-1"></a>ax6 <span class="op">=</span> fig.add_subplot(gs[<span class="dv">2</span>, <span class="dv">1</span>:<span class="dv">2</span>])</span>
<span id="cb526-19"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb526-19" tabindex="-1"></a></span>
<span id="cb526-20"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb526-20" tabindex="-1"></a>fig.suptitle(<span class="st">"GridSpec"</span>,color<span class="op">=</span><span class="st">'r'</span>)</span>
<span id="cb526-21"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb526-21" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="inline-figure"><img src="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B_files/figure-html/multi-axes-13.png" width="95%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb527"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb527-1"><a href="%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.html#cb527-1" tabindex="-1"></a>plt.close()</span></code></pre></div>

</div>
</div>



<style>

/* Style the tab */
/* .tab {
    overflow: hidden;
    border: 1px solid #ccc;
    background-color: #f1f1f1;
} */
.tab {
    overflow: hidden;
    display: flex;
    align-items: flex-start;
    flex-direction: row;
    flex-wrap: wrap;
    padding: 0;
    /* margin-bottom: 8px; */
    /* margin-left: -8px; */
    /* margin-right: 0px; */
    /* border-bottom:1px solid #e0e0e0; */
    height: 32px;
    /*flex-basis: 100px;*/
    /* background-color: aliceblue; */
}

/* Style the buttons inside the tab */
/* .tab button {
    background-color: inherit;
    float: left;
    border: none;
    outline: none;
    cursor: pointer;
    padding: 14px 16px;
    transition: 0.3s;
    font-size: 17px;
} */

.tab button {
    background-color: inherit;
    margin:0;
    text-align: center;
    font-weight: 500;
    min-width: 100px;
    /*width:fit-content;*/
    height: 100%;
    /* padding:5px,5px; */
    border: none;
    font-size: 1rem;
    font-weight:400;
    line-height: 32px;
    letter-spacing: .5px;
}

/* Change background color of buttons on hover */
/* .tab button:hover {
    background-color: #ddd;
} */
.tab button:hover {
    background-color: aliceblue;
}

/* Create an active/current tablink class */
/* .tab button.active {
    background-color: #ccc;
} */
.tab button.active {
    border-bottom: 2px solid rgb(33,150,243);
    background-color: aliceblue;
    padding-left:0px;
    padding-right:0px;
}

/* Style the tab content */
/* .tabcontent {
    display: none;
    padding: 6px 12px;
    border: 1px solid #ccc;
    border-top: none;
} */
.tabcontent {
    display: none;
    /* border: 1px solid aliceblue; */
    /*background-color: aliceblue;*/
    /* margin-left: -8px; */
    /* margin-top: -8px; */
 }

.tabheader{
    display: none;
}

pre {
  word-break: normal;
  word-wrap: normal;
  margin-left: 0px;
}
</style>
<script>
    var tab = document.getElementsByClassName("tabset");
    for(i=0;i<tab.length;i++){
    var hL = tab[i].children[0].nodeName[1];
    var tabContents = tab[i].getElementsByTagName("h"+String(Number(hL)+1));
    var tabCon = document.createElement("div");
    tabCon.className = "tab";
    tab[i].insertBefore(tabCon,tabContents[0].parentNode);
     for(j=0;j<tabContents.length;j++){
         var tabConDiv = tabContents[j].parentNode;
         var tabId = tabConDiv.getAttribute("id");
         var tabNumber = tabConDiv.getAttribute("number").replaceAll('.','-');
         var newID = tabNumber + '-' + tabId;
         var button = document.createElement("button");
         button.className = "tablinks";
         button.setAttribute("onclick","openTab(event,'"+newID+"')");
         button.innerText = tabId.split('-')[0];
        //  button.innerText = tabContents[j].innerText;
         tabCon.appendChild(button);
         tabConDiv.setAttribute("id",newID);
         tabConDiv.className = "tabcontent";
         tabContents[j].innerHTML = "";
         tabContents[j].className = "tabheader";
     }
     tabContents[0].parentNode.style.display = "block";
     tabCon.children[0].className += " active"
    }

function openTab(evt,tabName){
    var i, tabcontent, tablinks;
//     tabcontent = document.getElementsByClassName("tabcontent");
//     for (i = 0; i < tabcontent.length; i++) {
//         tabcontent[i].style.display = "none";
//   }
//     tablinks = document.getElementsByClassName("tablinks");
//     for (i = 0; i < tablinks.length; i++) {
//     tablinks[i].className = tablinks[i].className.replace(" active", "");
//   }
//   document.getElementById(tabName).style.display = "block";
//   evt.currentTarget.className += " active";
    var container = evt.currentTarget.parentNode;
    tabcontent = container.parentNode.getElementsByClassName("tabcontent");
    for (i = 0; i < tabcontent.length; i++) {
        tabcontent[i].style.display = "none";
  }
    tablinks = container.getElementsByClassName("tablinks");
    for (i = 0; i < tablinks.length; i++) {
    tablinks[i].className = tablinks[i].className.replace(" active", "");
  }
  document.getElementById(tabName).style.display = "block";
  evt.currentTarget.className += " active";
}
</script><div class="giscus">
<script src="https://giscus.app/client.js" data-repo="wangchenglong99/wangchenglong99.github.io" data-repo-id="R_kgDOI6UvHg" data-category="Announcements" data-category-id="DIC_kwDOI6UvHs4CUJAN" data-mapping="pathname" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light_high_contrast" data-lang="zh-CN" crossorigin="anonymous" async>
</script><div></div>
  

  

</div>
<div class="chapter-nav">
<div class="prev"><a href="matplotlib.html"><span class="header-section-number">6</span> matplotlib</a></div>
<div class="next"><a href="introduction-2.html">introduction</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B"><span class="header-section-number">7</span> 图表实例</a></li>
<li><a class="nav-link" href="#%E7%BB%98%E5%88%B6%E6%B5%81%E7%A8%8B"><span class="header-section-number">7.1</span> 绘制流程</a></li>
<li><a class="nav-link" href="#%E5%8F%82%E8%80%83"><span class="header-section-number">7.2</span> 参考</a></li>
<li>
<a class="nav-link" href="#axes%E5%8F%82%E6%95%B0%E8%AE%BE%E7%BD%AE"><span class="header-section-number">7.3</span> axes参数设置</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#tick_labels"><span class="header-section-number">7.3.1</span> tick_labels</a></li>
<li><a class="nav-link" href="#ticks"><span class="header-section-number">7.3.2</span> ticks</a></li>
<li><a class="nav-link" href="#ticks-formator"><span class="header-section-number">7.3.3</span> ticks-formator</a></li>
<li><a class="nav-link" href="#ticks-locator"><span class="header-section-number">7.3.4</span> ticks-locator</a></li>
<li><a class="nav-link" href="#pad"><span class="header-section-number">7.3.5</span> pad</a></li>
<li><a class="nav-link" href="#spines"><span class="header-section-number">7.3.6</span> spines</a></li>
<li><a class="nav-link" href="#%E8%BD%B4%E8%8C%83%E5%9B%B4"><span class="header-section-number">7.3.7</span> 轴范围</a></li>
<li><a class="nav-link" href="#%E8%B0%83%E6%95%B4%E5%A4%9A%E5%9B%BE%E9%97%B4%E8%B7%9D"><span class="header-section-number">7.3.8</span> 调整多图间距</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#%E5%9B%BE%E4%BE%8B"><span class="header-section-number">7.4</span> 图例</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#%E5%9B%BE%E4%BE%8B%E6%A0%B7%E5%BC%8F%E8%AE%BE%E7%BD%AE"><span class="header-section-number">7.4.1</span> 图例样式设置</a></li>
<li><a class="nav-link" href="#%E5%8F%8C%E8%BD%B4%E6%88%96%E8%80%85%E5%A4%9A%E5%9B%BE"><span class="header-section-number">7.4.2</span> 双轴或者多图</a></li>
<li><a class="nav-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9B%BE%E4%BE%8B"><span class="header-section-number">7.4.3</span> 自定义图例</a></li>
<li><a class="nav-link" href="#%E9%A2%9C%E8%89%B2"><span class="header-section-number">7.4.4</span> 颜色</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#%E6%9F%B1%E5%BD%A2%E5%9B%BE%E6%9D%A1%E5%BD%A2%E5%9B%BE"><span class="header-section-number">7.5</span> 柱形图/条形图</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E6%9F%B1%E5%BD%A2%E5%9B%BE"><span class="header-section-number">7.5.1</span> 基本柱形图</a></li>
<li><a class="nav-link" href="#%E6%8E%92%E5%88%97%E6%9F%B1%E5%BD%A2%E5%9B%BE"><span class="header-section-number">7.5.2</span> 排列柱形图</a></li>
<li><a class="nav-link" href="#%E5%A0%86%E5%8F%A0%E6%9D%A1%E5%BD%A2%E5%9B%BE"><span class="header-section-number">7.5.3</span> 堆叠条形图</a></li>
<li><a class="nav-link" href="#%E5%8F%8C%E5%90%91%E6%9D%A1%E5%BD%A2%E5%9B%BE"><span class="header-section-number">7.5.4</span> 双向条形图</a></li>
<li><a class="nav-link" href="#%E7%BB%84%E5%90%88%E6%9D%A1%E5%BD%A2%E5%9B%BE"><span class="header-section-number">7.5.5</span> 组合条形图</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#%E6%8A%98%E7%BA%BF%E5%9B%BE"><span class="header-section-number">7.6</span> 折线图</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#%E5%9F%BA%E7%A1%80%E6%8A%98%E7%BA%BF%E5%9B%BE"><span class="header-section-number">7.6.1</span> 基础折线图</a></li></ul>
</li>
<li>
<a class="nav-link" href="#%E7%9B%B4%E6%96%B9%E5%9B%BE"><span class="header-section-number">7.7</span> 直方图</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#%E5%9F%BA%E7%A1%80%E7%9B%B4%E6%96%B9%E5%9B%BE"><span class="header-section-number">7.7.1</span> 基础直方图</a></li>
<li><a class="nav-link" href="#%E7%BB%84%E5%90%88%E7%9B%B4%E6%96%B9%E5%9B%BE"><span class="header-section-number">7.7.2</span> 组合直方图</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#%E7%AE%B1%E7%BA%BF%E5%9B%BE-1"><span class="header-section-number">7.8</span> 箱线图</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E8%BF%94%E5%9B%9E%E6%95%B0%E6%8D%AE"><span class="header-section-number">7.8.1</span> 获取返回数据</a></li>
<li><a class="nav-link" href="#%E7%BB%84%E5%90%88%E7%AE%B1%E7%BA%BF%E5%9B%BE"><span class="header-section-number">7.8.2</span> 组合箱线图</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#%E9%A5%BC%E5%9B%BE"><span class="header-section-number">7.9</span> 饼图</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#%E5%9F%BA%E7%A1%80%E9%A5%BC%E5%9B%BE"><span class="header-section-number">7.9.1</span> 基础饼图</a></li>
<li><a class="nav-link" href="#%E7%8E%AB%E7%91%B0%E5%9B%BE"><span class="header-section-number">7.9.2</span> 玫瑰图</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#%E6%95%A3%E7%82%B9%E5%9B%BE"><span class="header-section-number">7.10</span> 散点图</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#%E5%9F%BA%E7%A1%80%E6%95%A3%E7%82%B9%E5%9B%BE"><span class="header-section-number">7.10.1</span> 基础散点图</a></li>
<li><a class="nav-link" href="#%E4%B8%8D%E5%90%8C%E5%BD%A2%E7%8A%B6%E7%9A%84%E6%95%A3%E7%82%B9"><span class="header-section-number">7.10.2</span> 不同形状的散点</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#%E6%9E%81%E5%9D%90%E6%A0%87"><span class="header-section-number">7.11</span> 极坐标</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#%E5%9F%BA%E7%A1%80%E6%9E%81%E5%9D%90%E6%A0%87"><span class="header-section-number">7.11.1</span> 基础极坐标</a></li></ul>
</li>
<li><a class="nav-link" href="#%E5%B8%95%E7%B4%AF%E6%89%98%E5%9B%BE"><span class="header-section-number">7.12</span> 帕累托图</a></li>
<li><a class="nav-link" href="#%E5%A4%9A%E5%9B%BE"><span class="header-section-number">7.13</span> 多图</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/wangchenglong99/wangchenglong99.github.io/blob/main/%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/wangchenglong99/wangchenglong99.github.io/edit/main/%E5%9B%BE%E8%A1%A8%E5%AE%9E%E4%BE%8B.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>wcl</strong>" was written by wcl. It was last built on 2024-04-28.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</div>
</body>
</html>
